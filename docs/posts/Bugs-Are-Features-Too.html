

<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Peter Ritchie&#x27;s Blog - Bugs Are Features Too</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="/assets/sass/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="/assets/sass/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="/assets/sass/ie8.css" /><![endif]-->
        

	</head>
	<body>

		<!-- Page Wrapper -->
			<div id="page-wrapper">
				
				<!-- Header -->
				<header id="header">
					<h1><a href="/">Peter Ritchie&#x27;s Blog</a></h1>
					<nav>
						<a href="#menu">Menu</a>
					</nav>
				</header>

				<!-- Menu -->
				<nav id="menu">
					<div class="inner">
						<h2>Menu</h2>
						<ul class="links">
							        <li><a href="/posts">Archive</a></li>
        <li><a href="/tags">Tags</a></li>
        <li><a href="/about">About</a></li>

						</ul>
						<a href="#" class="close">Close</a>
					</div>
				</nav>


    
<section id="banner">
  <div class="inner">
    <h2>Bugs Are Features Too</h2>
            <p><em>Published on Tuesday, September 9, 2008</em></p>
                    <a role="button" href="/tags/Microsoft" class="button small">Microsoft</a>
                <a role="button" href="/tags/msmvps" class="button small">msmvps</a>
                <a role="button" href="/tags/Product-Bugs" class="button small">Product Bugs</a>
                <a role="button" href="/tags/September-2008" class="button small">September 2008</a>
                <a role="button" href="/tags/Software-Development" class="button small">Software Development</a>
                <a role="button" href="/tags/Visual-Studio-2005" class="button small">Visual Studio 2005</a>
                <a role="button" href="/tags/Visual-Studio-2008" class="button small">Visual Studio 2008</a>
  </div>
</section>

				<!-- Main -->
				<section id="wrapper">
					<section class="wrapper style2">
						<div class="inner">
							

<p><a href="http://blogs.msmvps.com/peterritchie/2008/09/09/bugs-are-features-too/" title="Permalink to Bugs Are Features Too">Source</a></p>
<h1 id="bugs-are-features-too">Bugs Are Features Too</h1>
<p>It's surprising how many bugs on Microsoft Connect are closed as Won't Fix with a reason that fixing the bug would be a breaking change.</p>
<p>The logic is that someone could be dependant on the errant behaviour and thus changing it would cause their code to break.</p>
<p>Here's some samples.</p>
<p>TypeConverter.IsValid(Object). This method is described as &quot;Returns whether the given value is valid for this type&quot;. But, this results in true:</p>
<p>TypeConverter typeConverter = TypeDescriptor.GetConverter(typeof(int));</p>
<p>Console.WriteLine(typeConverter.IsValid(&quot;ten&quot;));</p>
<p>Based on the description of IsValid that this is what was intended:</p>
<p>Debug.Assert(false == typeConverter.IsValid(&quot;ten&quot;), &quot;TypeConverter.IsValid return true when it shouldn't have&quot;);</p>
<p>Debug.Assert(true == typeConverter.IsValid(&quot;10&quot;), &quot;TypeConverter.IsValid return false when it shouldn't have&quot;);</p>
<p>Ergo, the argument is there must be some code out there that relies on the fact that IsValid returns true for invalid values. The best I could come up with was:</p>
<p>TypeConverter typeConverter = TypeDescriptor.GetConverter(typeof(int));</p>
<p>if(!typeConverter.IsValid(&quot;ten&quot;))</p>
<p>{</p>
<pre><code>MessageBox.Show(&quot;value cannot be converted to integer&quot;);

return;
</code></pre>
<p>}</p>
<p>try</p>
<p>{</p>
<pre><code>Int32 value = (Int32)typeConverter.ConvertTo(&quot;ten&quot;, typeof(Int32));
</code></pre>
<p>}</p>
<p>catch (FormatException)</p>
<p>{</p>
<pre><code>MessageBox.Show(&quot;value cannot be converted to integer&quot;);

return;
</code></pre>
<p>}</p>
<p>If they changed TypeConverter.IsValid to return whether the given value is valid for this type then obviously it would break the above code.</p>
<p>That bug was logged by Daniel Cazzulino at <a href="https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=93559">https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=93559</a></p>
<p>One I personally logged had to do with methods documented as &quot;Always throws&quot;.</p>
<p>There exists several methods in the framework like Convert.ToDecimal(DateTime) that do nothing but throw an exception. The response was that the methods exist to allow easier conversion from VB6.</p>
<p>What scares me is that that suggests that the methods exists so that VB6 code copied to VB.NET will compile without error rather than attempting to follow a well-known axiom of getting the compiler to detect logic errors whenever possible. Rather than providing a compile error and forcing someone to fix the problem before releasing the software, these methods allow the software to compile and it's then the onus of the unit tests or the testers to find the runtime error.</p>
<p>This bug can be found at <a href="https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=94770">https://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=94770</a>.</p>


<div id="disqus_thread"></div>  
<!--
    'Bugs-Are-Features-Too'
    'Bugs Are Features Too'
    'http://blog.peterritchie.com/posts/Bugs-Are-Features-Too'
-->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */

    var fromJekyllDate = new Date('Wed Feb 01 2022');
    var publishedDate = new Date('9/9/2008');
    console.info('Bugs-Are-Features-Too');

    var disqus_identifier = '';
    var disqus_shortname = 'peterritchiesblog'; // required: replace example with your forum shortname
    var disqus_title = 'Bugs Are Features Too';
    var disqus_url = 'http://blog.peterritchie.com/posts/Bugs-Are-Features-Too';

    if(publishedDate < fromJekyllDate)
    {
        disqus_url = disqus_url.replace('/posts', '');
        disqus_url = disqus_url + '/';
    }
    else
    {
        //var disqus_identifier = 'Bugs-Are-Features-Too';
    }
    console.info(disqus_identifier);

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
						</div>
					</section>
				
				</section>
				
				<!-- Footer -->
                <footer id="footer">
                    <div class="container">
        <div class="row">
                <div class="col-md-12 text-center">
                    <p class="copyright text-muted">
                        Copyright © Peter Ritchie&#x27;s Blog 2022
                        <br />
                            <a href="/feed.xml"><i class="fa fa-rss"></i> RSS Feed</a>
                        |
                            <a href="/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
                        <br />
                        <strong><a href="https://wyam.io">Generated by "Wyam"</a></strong>
                    </p>
                </div>
        </div>
</div>
                </footer>
			</div>

		<!-- Scripts -->
			<script src="/assets/js/skel.min.js"></script>
			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/jquery.scrollex.min.js"></script>
			<script src="/assets/js/util.js"></script>
            <!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js"></script><![endif]-->
            <script src="/assets/js/main.js"></script>

	</body>

</html>