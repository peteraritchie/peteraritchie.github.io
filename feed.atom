<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<id>http://blog.peterritchie.com/</id>
	<title>Peter Ritchie's Blog</title>
	<link rel="self" href="http://blog.peterritchie.com/" />
	<rights>2022</rights>
	<updated>2022-12-26T00:26:12Z</updated>
	<subtitle>Peter Ritchie</subtitle>
	<entry>
		<id>http://blog.peterritchie.com/posts/things-i-learned-attempting-azure-administrator-associate-part-2</id>
		<title>Things I Learned Attempting Azure Administrator Associate - Part 2 - Storage</title>
		<link href="http://blog.peterritchie.com/posts/things-i-learned-attempting-azure-administrator-associate-part-2" />
		<updated>2022-12-22T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;img src="/assets/DALL%C2%B7E-2022-12-22-17.03.40--distributed-cloud-data-storage-in-the-style-of-salvator-dali.png" class="img-fluid" alt="distributed cloud data storage" /&gt;&lt;/p&gt;
&lt;p&gt;Azure Administrator Associate certification is about the skills required to be an Azure account, subscription, tenant, etc., administrator. If your end goal is to develop applications on Azure, that involves a lot of &lt;em&gt;administration&lt;/em&gt; of Azure resources. Regardless of your plan, storage administration is nuanced. This post focuses on some of those nuances, nuances that may not be apparent in the documentation.&lt;/p&gt;
&lt;h3 id="overview"&gt;Overview&lt;/h3&gt;
&lt;!--capabilities--&gt;
&lt;p&gt;Azure provides storage services for Files, Blobs, Queues, and Tables. Files are blobs that support access via SMB protocol, AKA File Shares. Blobs are web resources that support access via a URI (HTTP). Blob Storage supports two types of blobs: block blobs and page blobs. Table Storage supports key-based relational and document access. Queues support access to ephemeral messages.&lt;/p&gt;
&lt;p&gt;Azure Files has a File Sync feature that supports file-level replication across Windows Servers. The Azure File endpoint is also called the Cloud Endpoint and is part of a Sync Group that includes one or more Windows Server file shares.&lt;/p&gt;
&lt;p&gt;There are two performance options for Storage Accounts: Standard (general purpose v2) and Premium (for low latency.)&lt;/p&gt;
&lt;!--tiers/skus--&gt;
&lt;p&gt;Storage has a couple of storage tiers: Standard and Premium. Storage tiers provide different functionality at different costs. Blob Storage has several access tiers: Hot, Cool, and Archive. Access tiers offer a way to communicate the frequency and type of data access to reduce storage costs. Access tiers can be used to implement a lifecycle for data, moving to lower-cost tiers over time to reduce cost.&lt;/p&gt;
&lt;!--durability/high-availability--&gt;
&lt;p&gt;Storage supports data redundancy that makes copies of data to avoid loss due to infrastructure failure. There are several options: Locally-Redundant Storage (LRS), Zone-Redundant storage (ZRS), Geo-Redundant Storage (GRS), and Geo-Zone-Redundant Storage (GZRS). LRS stores three copies of the data asynchronously within a single data center. ZRS duplicates those 3 LRS copies across three availability zones (clusters) in a region. GRS duplicates those 3 LRS asynchronously to a single zone in a secondary region. GZRS duplicates the ZRS data across zones within the secondary region.&lt;/p&gt;
&lt;!--data protection--&gt;
&lt;p&gt;Recovery Services is the service responsible for storing backups and recovery points. Recovery Services stores data within Recovery Services Vaults.&lt;/p&gt;
&lt;p&gt;Encryption scopes logically group blobs or containers and assign an encryption key specific to that scope.&lt;/p&gt;
&lt;!--access control--&gt;
&lt;p&gt;There are a couple options for controlling access to data: Azure AD accounts/groups or Shared Access Signatures (SAS). Azure AD Groups provide a more manageable way to control Azure AD account access to data (than simply Azure AD accounts). SAS provides a granular means to provide delegate access to external entities.&lt;/p&gt;
&lt;h3 id="notable-information"&gt;Notable information &lt;!--TIL--&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;LRS protects against rack-level hardware failure (so, if you want data-center-wide failure protection, LRS is insufficient).&lt;/li&gt;
&lt;li&gt;LRS is supported for Standard File and Standard Block Blob account types (otherwise, GRS is the default.)&lt;/li&gt;
&lt;li&gt;ZRS protects against data loss due to data center failure (so, if you want region-wide failure protection, ZRS is insufficient)&lt;/li&gt;
&lt;li&gt;GRS protects against region failure.&lt;/li&gt;
&lt;li&gt;GRS and GZRS secondary regions are pre-defined, forcing your data into a specific region.&lt;/li&gt;
&lt;li&gt;GZRS protects against region failure and simultaneous data center failure in the secondary region.&lt;/li&gt;
&lt;li&gt;When defining a data lifecycle, in the case of a tie, the option that results in the least cost will be chosen.&lt;/li&gt;
&lt;li&gt;Migrating from LRS to GRS is supported with a feature called &amp;quot;Live Migration.&amp;quot; Migration from LRS in other scenarios (e.g. to ZRS) must be done manually. Since Premium Storage accounts do not support LRS, Live Migration does not support Premium Storage accounts.&lt;/li&gt;
&lt;li&gt;Live migration supports the use case of a storage account failure of GRS-replicated data. GRS is a second LRS in a secondary region. If a region fails, GRS reduces to LRS, so recovering means using Live Migration.&lt;/li&gt;
&lt;li&gt;Durability is not backup; it provides access to data when infrastructure recoverability isn't an option. Apart from Live Migration, &lt;em&gt;restoration&lt;/em&gt; is limited to manually copying live data when needed.&lt;/li&gt;
&lt;li&gt;Durability does not protect against application-level failure; use backups or custom (application-level) durability in those scenarios.&lt;/li&gt;
&lt;li&gt;Encryption scopes are useful for providing logical data tenancy.&lt;/li&gt;
&lt;li&gt;Files added/modified in a File Share are only detected and replicated to the Windows Server file shares once every 24 hours (i.e., only visible after 24 hours).&lt;/li&gt;
&lt;li&gt;Adding a file share to a Sync Group acts like all the files and folders within the file share were just added, replicating to the cloud endpoint and any other file shares.&lt;/li&gt;
&lt;li&gt;When applying &lt;em&gt;least privilege&lt;/em&gt; to storage accounts, the &lt;strong&gt;Reader&lt;/strong&gt; role is also required on the Azure AD account if the Azure AD account needs to navigate storage resources in the Azure Portal.&lt;/li&gt;
&lt;li&gt;Asynchronous data redundancy options introduce the possibility of data loss. If the asynchronous duplication to the secondary region did not complete, it is out of sync with the last state of the primary region. Application-level logic is required to prevent loss of data in this scenario.&lt;/li&gt;
&lt;li&gt;The Archive tier does not have immediate access; it must be &lt;em&gt;rehydrated&lt;/em&gt; to a cool/hot tier first (usually with a Copy Blob operation of up to 15 hours completion time).&lt;/li&gt;
&lt;li&gt;File Share storage may be backed up to Recover Service vaults, but Blob Storage may not.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This table summarizes the types of storage accounts and the features/redundancy that each support.&lt;/p&gt;
&lt;table class="table"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Account&lt;/th&gt;
&lt;th&gt;Redundancy&lt;/th&gt;
&lt;th style="text-align: center;"&gt;block blob&lt;/th&gt;
&lt;th style="text-align: center;"&gt;page blob&lt;/th&gt;
&lt;th style="text-align: center;"&gt;append blob&lt;/th&gt;
&lt;th style="text-align: center;"&gt;file share&lt;/th&gt;
&lt;th style="text-align: center;"&gt;queue&lt;/th&gt;
&lt;th style="text-align: center;"&gt;table&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Standard account&lt;/td&gt;
&lt;td&gt;LRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Standard account&lt;/td&gt;
&lt;td&gt;GRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Standard account&lt;/td&gt;
&lt;td&gt;GAZRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Standard account&lt;/td&gt;
&lt;td&gt;RA-GZRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium Block blobs account&lt;/td&gt;
&lt;td&gt;LRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium Block blobs account&lt;/td&gt;
&lt;td&gt;ZRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium File shares account&lt;/td&gt;
&lt;td&gt;LRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium File shares account&lt;/td&gt;
&lt;td&gt;ZRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium Page blobs account&lt;/td&gt;
&lt;td&gt;LRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Premium Page blobs account&lt;/td&gt;
&lt;td&gt;ZRS&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☑&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;td style="text-align: center;"&gt;☐&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content>
		<summary>&lt;p&gt;&lt;img src="/assets/DALL%C2%B7E-2022-12-22-17.03.40--distributed-cloud-data-storage-in-the-style-of-salvator-dali.png" class="img-fluid" alt="distributed cloud data storage"&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/things-i-learned-attempting-azure-administrator-associate</id>
		<title>Things I Learned Attempting Azure Administrator Associate - Part 1</title>
		<link href="http://blog.peterritchie.com/posts/things-i-learned-attempting-azure-administrator-associate" />
		<updated>2022-12-20T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;img src="/assets/DALL%C2%B7E-2022-12-20-15.03.33---A-woman-going-through-the-process-of-certifying-knowledge.png" class="img-fluid" alt="person going through the process of certifying knowledge" /&gt;&lt;/p&gt;
&lt;p&gt;I recently earned certification for Azure Administrator Associate.  My goal is to make my experience and skills more verifiable in areas like application solution architecture.  Azure Administrator Associate is a prerequisite for Azure Solutions Architect Expert and DevOps Engineer Expert (I imagine it's a prerequisite for all Azure * {Expert|Associate} certs.)&lt;/p&gt;
&lt;p&gt;Certifications aren't perfect, &amp;quot;certification&amp;quot; has different meanings to the observer and the certification itself. Most certifications bring with them an expected minimum understanding of the subject.  Does it mean the earner will do everything perfectly with the subject?  Of course not, but it gives the person a certain vocabulary to communicate more efficiently on the subject.&lt;/p&gt;
&lt;p&gt;The road to Azure Administrator Associate was interesting, and sharing some notable information would be helpful for others.&lt;/p&gt;
&lt;h2 id="making-the-implicit-explicit"&gt;Making The Implicit Explicit&lt;/h2&gt;
&lt;p&gt;The key to good communication is clearly understanding a subject and eliminating assumptions and misunderstandings. While understanding what is expected of a certified Azure Administrator Associate, I noticed some knowledge that I realized is typically implicit. Another way of looking at the following is that each starts with &amp;quot;It may seem obvious, but...&amp;quot;.&lt;/p&gt;
&lt;p&gt;Implicit knowledge is knowledge obtained through incidental activities; knowledge gained without awareness of learning is occurring.&lt;/p&gt;
&lt;h3 id="line-of-business-lob-applications"&gt;Line of Business (LoB) Applications&lt;/h3&gt;
&lt;p&gt;Line of Business (LoB) applications is ubiquitous in the computing industry.  Everyone knows what it &lt;em&gt;means&lt;/em&gt;, but if you ask two people to define it, you'll get more than one answer.  While agreement/standardization on what a LoB application is isn't going to happen any time soon, there are certain truths about LoB applications:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An in-house, custom web application&lt;/li&gt;
&lt;li&gt;Not accessible via the Internet, either behind a firewall or strict access control (authentication and authorization)&lt;/li&gt;
&lt;li&gt;Access &lt;em&gt;may&lt;/em&gt; occur via an application gateway or load balancer&lt;/li&gt;
&lt;li&gt;Specific to the company, business area, or industry&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="azcopy"&gt;AzCopy&lt;/h3&gt;
&lt;p&gt;AzCopy works with Azure storage but only Azure Blob Storage and Azure Files.&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;There are many areas of clarification with Azure Administrator Associate.  Future posts on the subject will address clarifications involving important explicit limits, restrictions, constraints, rules, etc.&lt;/p&gt;
&lt;p&gt;Are there other implicit aspects of Azure administration that can be made explicit?&lt;/p&gt;
</content>
		<summary>&lt;p&gt;&lt;img src="/assets/DALL%C2%B7E-2022-12-20-15.03.33---A-woman-going-through-the-process-of-certifying-knowledge.png" class="img-fluid" alt="person going through the process of certifying knowledge"&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/fundamental-webapi-integration-tests</id>
		<title>Fundamental ASP.Net Minimal API Integration Tests</title>
		<link href="http://blog.peterritchie.com/posts/fundamental-webapi-integration-tests" />
		<updated>2022-11-03T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;img src="/assets/robotic%20computing%20testing.png" class="img-fluid" alt="Robotic computing testing" /&gt;&lt;/p&gt;
&lt;p&gt;I've been involved with some fairly large projects that involved RESTful APIs. When dealing with multiple team members, multiple teams, and OpenAPI specs, there can be many risks. Even when an OpenAPI specification is generated from source code, what the code does can easily be unaligned with the spec. Luckily the spec is a machine-readable contract of the &lt;em&gt;intent and purpose&lt;/em&gt; of the API.&lt;/p&gt;
&lt;p&gt;Automated testing to the rescue! With ASP.NET, you can inject into and observe the middleware pipeline. ASP.NET integration tests are a common way of verifying the pipeline and how it is used. We can create integration tests that process the OpenAPI spec and verify operations are working as expected in various ways. This article dives into a couple of these ways.&lt;/p&gt;
&lt;h2 id="fundamental-api-integration-tests"&gt;Fundamental API Integration Tests&lt;/h2&gt;
&lt;p&gt;With a functioning Web API and an OpenAPI specification that describes it there are some fundamental things we can verify:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The generated OpenAPI document is valid&lt;/li&gt;
&lt;li&gt;The paths have endpoints implemented&lt;/li&gt;
&lt;li&gt;The operations respond with the correct type of response&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;First, let's set up our solution, projects, and integration testing scaffolding.&lt;/p&gt;
&lt;h2 id="setting-up-the-solution-and-projects"&gt;Setting Up the Solution and Projects&lt;/h2&gt;
&lt;p&gt;We're dealing with a Web API and integration tests, so let's create a Web API project and make the &lt;code&gt;Program&lt;/code&gt; class &lt;code&gt;public&lt;/code&gt;. You can do that manually in Visual Studio; but for consistency, the CLI is powerful (I'm being intentional with framework versions and some configuration options--appending &lt;code&gt;public partial class Program { }&lt;/code&gt; to Program.cs to make the class public):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;dotnet new solution
dotnet new webapi -o WebApi --use-minimal-apis true --framework net6.0 --use-program-main false
echo public partial class Program { } &amp;gt;&amp;gt; WebApi\Program.cs
dotnet sln add WebApi\WebApi.csproj
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, we want to add a test project. xUnit is my go-to, so we'll use that and add a reference to the Web API project. Again, in the CLI:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;dotnet new xunit -o IntegrationTests --framework net6.0
del IntegrationTests\UnitTest1.cs
dotnet add IntegrationTests\IntegrationTests.csproj reference WebApi\WebApi.csproj
dotnet sln add IntegrationTests\IntegrationTests.csproj
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For ASP.Net integration tests, we will use &lt;code&gt;WebApplicationFactory&amp;lt;T&amp;gt;&lt;/code&gt;, which requires a reference to &lt;code&gt;Microsoft.AspNetCore.Mvc.Testing&lt;/code&gt;. In addition, to process OpenAPI documents, we'll need the &lt;code&gt;Microsoft.OpenApi.Readers&lt;/code&gt; package. Again, via the CLI:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;dotnet add IntegrationTests\IntegrationTests.csproj package Microsoft.OpenApi.Readers
dotnet add IntegrationTests\IntegrationTests.csproj package Microsoft.AspNetCore.Mvc.Testing
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="integration-test-scaffolding"&gt;Integration Test Scaffolding&lt;/h2&gt;
&lt;p&gt;I got into some of the scaffolding of ASP.NET 6 integration tests in &lt;a href="#setting-up-the-solution-and-projects"&gt;Setting Up the Solution and Projects&lt;/a&gt; concerning the required package references. the &lt;code&gt;Microsoft.AspNetCore.Mvc.Testing&lt;/code&gt; package is required so that we may use the &lt;a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.testing.webapplicationfactory-1?view=aspnetcore-6.0"&gt;&lt;code&gt;WebApplicationFactory&amp;lt;TEntryPoint&amp;gt;&lt;/code&gt;&lt;/a&gt; class--which allows us to bootstrap a web application in memory, specifically for testing.&lt;/p&gt;
&lt;p&gt;We'll use &lt;code&gt;WebApplicationFactory&lt;/code&gt; to create an instance of an &lt;code&gt;HttpClient&lt;/code&gt; test fake that works with our in-memory host. In addition, we'll override &lt;code&gt;WebApplicationFactory&lt;/code&gt; to get at some of the Swashbuckle details from the pipeline. We're interested in the generated OpenAPI document for processing and the name of that document to generate the OpenAPI specification URI for verification. Here's an example of a &lt;code&gt;WebApplicationFactory&lt;/code&gt; implementation that does what we need:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class MyWebApplicationFactory : WebApplicationFactory&amp;lt;Program&amp;gt;
{
	public OpenApiDocument? OpenApiDocument { get; private set; }
	public string OpenApiDocumentName { get; private set; } = string.Empty;

	protected override IHost CreateHost(IHostBuilder builder)
	{
		var host = base.CreateHost(builder);
		using var scope = host.Services.CreateScope();
		var sp = scope.ServiceProvider;
		var swaggerGeneratorOptions = sp.GetRequiredService&amp;lt;IOptions&amp;lt;SwaggerGeneratorOptions&amp;gt;&amp;gt;().Value;
		OpenApiDocumentName = swaggerGeneratorOptions.SwaggerDocs.First().Key ?? string.Empty;
		var swaggerProvider = sp.GetRequiredService&amp;lt;ISwaggerProvider&amp;gt;();
		OpenApiDocument = swaggerProvider.GetSwagger(OpenApiDocumentName);

		return host;
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The important parts are the &lt;code&gt;OpenApiDocument&lt;/code&gt; and &lt;code&gt;OpenApiDocumentName&lt;/code&gt; properties.&lt;/p&gt;
&lt;p&gt;Now that we've got integration testing scaffolded let's create a test base class to make creating multiple integration tests clean and tidy.&lt;/p&gt;
&lt;h2 id="some-test-conventions"&gt;Some Test Conventions&lt;/h2&gt;
&lt;p&gt;Automated testing classes and methods offer an opportunity to isolate and categorize tests to reduce work and clarify what is being tested (more importantly, what isn't passing). I tend towards a given/when/then structure when designing tests. The test class encapsulates the given/when (as well as the &lt;em&gt;arrange&lt;/em&gt; from arrange/act/assert) whose name is suffixed with &amp;quot;Should.&amp;quot; Each test method in the class is then given a name that describes the &lt;em&gt;then&lt;/em&gt; condition. I try to ensure that there is one condition and thus one assert per method. YMMV.&lt;/p&gt;
&lt;p&gt;For the tests I want to describe in this article, I've created a base class to encapsulate related given/when scenarios (or &lt;em&gt;shoulds&lt;/em&gt;) that require the details we're accessing with the &lt;code&gt;WebApplicationFactory&amp;lt;Program&amp;gt;&lt;/code&gt; implementation. Naming is hard, so I'm starting simple with a &lt;code&gt;WebApiShouldBase&lt;/code&gt; class that encapsulates the parts we're getting with &lt;code&gt;MyWebApplicationFactory&lt;/code&gt; and an ability to get a stream to the &amp;quot;live&amp;quot; OpenAPI spec document (JSON). It also deals with the responsibility of owning those things (e.g., disposal):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class WebApiShouldBase : IDisposable
{
	private readonly string openApiSpecUriText;

	protected readonly HttpClient WebApiClient;
	protected OpenApiDocument? OpenApiDocument { get; }
	protected Task&amp;lt;Stream&amp;gt; GetOpenApiDocumentStreamAsync() =&amp;gt; WebApiClient.GetStreamAsync(openApiSpecUriText);

	protected WebApiShouldBase()
	{
		var factory = new MyWebApplicationFactory();
		WebApiClient = factory.CreateClient();
		OpenApiDocument = factory.OpenApiDocument;
		this.openApiSpecUriText = $&amp;quot;/swagger/{factory.OpenApiDocumentName}/swagger.json&amp;quot;;
	}

	protected virtual void Dispose(bool isDisposing)
	{
		if (isDisposing)
		{
			Dispose();
		}
	}

	public void Dispose() =&amp;gt; WebApiClient.Dispose();

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The important parts are the &lt;code&gt;OpenApiDocument&lt;/code&gt; property which re-surfaces the &lt;code&gt;MyWebApplicationFactory.OpenApiDocument&lt;/code&gt; to implementors, the &lt;code&gt;WebApiClient&lt;/code&gt; property to access the API, and the &lt;code&gt;GetOpenApiDocumentStreamAsync&lt;/code&gt; method that holds the OpenAPI spec document that the API provides. This class hides things like the URI to the swagger.json, the use of &lt;code&gt;MyWebApplicationFactory&lt;/code&gt;, disposal, etc.&lt;/p&gt;
&lt;p&gt;With that, let's start doing some tests!&lt;/p&gt;
&lt;h2 id="verifying-the-generated-openapi-is-valid"&gt;Verifying The Generated OpenAPI Is Valid&lt;/h2&gt;
&lt;p&gt;&amp;quot;Valid&amp;quot; is subjective with OpenAPI. An OpenAPI spec is very &lt;em&gt;forgiving&lt;/em&gt; in allowing for many opinions on what a &lt;em&gt;good&lt;/em&gt; API looks like. I'm not going to go deep on what &lt;em&gt;good&lt;/em&gt; might mean; just dive into facilitating validation of that generated document. The fact that there is an OpenApiDocument instance, and a raw OpenAPI specification, is an implementation detail. We'll use that OpenApiDocument instance shortly, but I want to ensure that the raw document meets some minimum requirements. For this example, the OpenAPI document is processed, not errors we detected, and there &lt;em&gt;are&lt;/em&gt; paths. Very simple:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;	[Fact]
	public async Task ProduceValidOpenApi()
	{
		var readerResult = await new OpenApiStreamReader()
			.ReadAsync(await GetOpenApiDocumentStreamAsync().ConfigureAwait(false)).ConfigureAwait(false);
		Assert.NotNull(OpenApiDocument);
		Assert.NotEmpty(readerResult.OpenApiDocument.Paths);
		Assert.Empty(readerResult.OpenApiDiagnostic.Errors);
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Client requirements can be less strict than development requirements (development objectives), and there may be different subsets of requirements in the case of multiple clients. This example doesn't implement that specifically but does provide the means to do it (by adding distinct test methods.)&lt;/p&gt;
&lt;p&gt;OpenAPI.Net has can do very complex verification and validation, but I expect that sort of testing to be performed at a different level--I want to make sure client-oriented tests are handled here.&lt;/p&gt;
&lt;h2 id="verifying-the-paths-have-endpoints-implemented"&gt;Verifying The Paths Have Endpoints Implemented&lt;/h2&gt;
&lt;p&gt;Publishing an API with paths and operations, and hosting an API that hasn't implemented those operations is silly. So the next test verifies they are implemented (at least the GET operations) as specified:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;	[Fact]
	public async Task EndpointsRespondOkToGet()
	{
		Assert.NotNull(OpenApiDocument);
		var pathsWithGetOperations = OpenApiDocument.Paths.Where(w =&amp;gt; w.Value.Operations.ContainsKey(OperationType.Get));

		foreach (var (requestUriText, _) in pathsWithGetOperations)
		{
			var response = await WebApiClient.GetAsync(requestUriText).ConfigureAwait(false);
			Assert.True(response.IsSuccessStatusCode);
		}
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;GET operations are &lt;em&gt;easy&lt;/em&gt;; they shouldn't have a request body and almost always have a success response specified. In the future, I can dive into other types of operations like POST, how to extract samples from the OpenAPI specification, and how to verify operations with request data and or error responses.&lt;/p&gt;
&lt;h2 id="verifying-the-operations-respond-with-the-correct-type-of-response"&gt;Verifying The Operations Respond With The Correct Type Of Response&lt;/h2&gt;
&lt;p&gt;HTTP, and thus OpenAPI, don't enforce that any operation responds with anything in particular. But, if you're reading &lt;em&gt;this&lt;/em&gt; blog, you are probably of the opinion that given the opportunity to specify behavior, you should be at least as detailed in specifying the type and schema of the responses.  I'll leave out validating response schema in this article, but I will show verifying that each request responds with the correct media type. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;	[Fact]
	public async Task EndpointsRespondWithCorrectMediaTypeToGet()
	{
		Assert.NotNull(OpenApiDocument);
		var pathsWithGetOperations = OpenApiDocument.Paths.Where(w =&amp;gt; w.Value.Operations.ContainsKey(OperationType.Get));

		foreach (var (requestUriText, pathItem) in pathsWithGetOperations)
		{
			var responseContentType = pathItem.Operations[OperationType.Get]
				.Responses[OkResponseCodeText]
				.Content
				.Single().Key;

			var request = new HttpRequestMessage
			{
				Method = HttpMethod.Get,
				RequestUri = new Uri(requestUriText, UriKind.Relative),
				Headers =
				{
					{
						HttpRequestHeader.Accept.ToString(),
						responseContentType
					}
				}
			};
			var response = await WebApiClient.SendAsync(request).ConfigureAwait(false);
			Assert.True(response.Content.Headers.ContentType?.MediaType ==
			            responseContentType);
		}
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="caveats"&gt;Caveats&lt;/h2&gt;
&lt;p&gt;Of course, you can have or create an OpenAPI that does little more than document an endpoint and ignore that there are operations and those operations do specific things.&lt;/p&gt;
&lt;p&gt;This article is an overview. I recognize that Swashbuckle and &lt;del&gt;Swagger&lt;/del&gt;OpenAPI support in ASP.NET is powerful, but this article doesn't take into account many things you can do with it (like multiple OpenAPI documents.)&lt;/p&gt;
&lt;p&gt;I also recognize that operations that take no parameters are rare, but I trust that my readers are good with taking on that as an exercise. Or, at least let me know if that's detail I should post in the future.&lt;/p&gt;
&lt;h2 id="summary"&gt;Summary&lt;/h2&gt;
&lt;p&gt;This article provides a very high-level overview of integration testing ASP.NET minimal APIs. We then got into some details of general Web API integration tests that focus on OpenAPI specification aspects of the Web API middleware.&lt;/p&gt;
&lt;p&gt;What sort of automated testing of an API specification do you see as beneficial to your projects?&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://learn.microsoft.com/en-us/aspnet/core/test/integration-tests?view=aspnetcore-6.0"&gt;Integration tests in ASP.NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.testing.webapplicationfactory-1?view=aspnetcore-6.0"&gt;&lt;code&gt;WebApplicationFactory&amp;lt;TEntryPoint&amp;gt;&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The source for the examples, including the creation scripts can be found at &lt;a href="https://github.com/peteraritchie/fundamental-webapi-integration-testing"&gt;https://github.com/peteraritchie/fundamental-webapi-integration-testing&lt;/a&gt;&lt;/p&gt;
</content>
		<summary>&lt;p&gt;&lt;img src="/assets/robotic%20computing%20testing.png" class="img-fluid" alt="Robotic computing testing"&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/visual-studio-defender-performance</id>
		<title>Visual Studio Performance with Microsoft Defender</title>
		<link href="http://blog.peterritchie.com/posts/visual-studio-defender-performance" />
		<updated>2022-10-27T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;img src="/assets/antivirus%20exclusion%20developer.png" class="img-fluid" alt="Antivirus Exclusion Developer Dall-E image" /&gt;&lt;/p&gt;
&lt;p&gt;Steve Smith posted about &lt;a href="https://ardalis.com/speed-up-visual-studio-build-times/?utm_sq=h3m43zzlkm"&gt;speeding up built times in Visual Studio&lt;/a&gt; by configuring Windows Defender.  That was in 2016 and to say things have changed a bit is probably an understatement.  Configuring a new laptop, I thought I'd revisit this briefly.&lt;/p&gt;
&lt;p&gt;Before changing anything in Windows Virus &amp;amp; Threat Protection, go ahead and run a scan to make sure we're starting with a clean slate.  &lt;del&gt;Go to &lt;a href="ms-settings:windowsdefender"&gt;Windows Security&lt;/a&gt; and click &lt;strong&gt;Virus &amp;amp; threat protection&lt;/strong&gt; then click the &lt;strong&gt;Quick scan&lt;/strong&gt; button.&lt;/del&gt; I've been advocating scripting all-the-things, to run a quick scan in an administrator Powershell terminal run &lt;code&gt;Start-MpScan -ScanType QuickScan&lt;/code&gt;.  You can also run a full-scan, if that makes you more comfortable: &lt;code&gt;Start-MpScan -ScanType FullScan&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once that's complete we can configure Windows Virus and Threat Protection to &amp;quot;trust&amp;quot; (exclude) Visual Studio.  To do that in PowerShell you can use the &lt;a href="https://learn.microsoft.com/en-us/powershell/module/defender/add-mppreference?view=windowsserver2022-ps"&gt;&lt;code&gt;App-MpPreference&lt;/code&gt; cmdlet&lt;/a&gt; (as well as see what's already configured with the &lt;a href="https://learn.microsoft.com/en-us/powershell/module/defender/get-mppreference?view=windowsserver2022-ps"&gt;&lt;code&gt;Get-MpPreference&lt;/code&gt; cmdlet&lt;/a&gt;).  Some examples:&lt;/p&gt;
&lt;p&gt;With Visual Studio 2022 Enterprise:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:ProgramFiles\Microsoft Visual Studio\2022\Enterprise\Common7\IDE\devenv.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With Visual Studio 2022 Professional:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:ProgramFiles\Microsoft Visual Studio\2022\Professional\Common7\IDE\devenv.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With Visual Studio 2022 Community:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:ProgramFiles\Microsoft Visual Studio\2022\Community\Common7\IDE\devenv.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And, with Visual Studio 2022 Preview:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:ProgramFiles\Microsoft Visual Studio\2022\Preview\Common7\IDE\devenv.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also do that for Visual Studio Code:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:LocalAppData\Programs\Microsoft VS Code\code.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also exclude the location of where you store your source code.  The default location is &lt;code&gt;C:\Users\&amp;lt;user-name&amp;gt;\source\repos&lt;/code&gt; for Visual Studio.  So, in PowerShell, you can add a path exclusion:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionPath &amp;quot;$Env:USERPROFILE\source\repos&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;table class="table"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Note:&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;If you're working with Git repositories that you're unsure of what they contain, you may want to separate where you clone those repos from where you exclude.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Or, if you want a PowerShell script to just do all thee things, see &lt;a href="https://gist.githubusercontent.com/peteraritchie/d6025591566821b4ae5995eb831b6e8d/raw/912b5b20b749d506562437f40e169e6a3e24d279/optimize-defender.ps1"&gt;optimize-defender.ps1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Other processes to consider:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;Add-MpPreference -ExclusionProcess &amp;quot;$Env:ProgramFiles\dotnet\dotnet.exe&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Any other processes or paths that you'd consider for exclusion?&lt;/p&gt;
</content>
		<summary>&lt;p&gt;&lt;img src="/assets/antivirus%20exclusion%20developer.png" class="img-fluid" alt="Antivirus Exclusion Developer Dall-E image"&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/By-Reference-in-csharp</id>
		<title>By Reference in C#</title>
		<link href="http://blog.peterritchie.com/posts/By-Reference-in-csharp" />
		<updated>2022-09-28T00:00:00Z</updated>
		<content>&lt;p&gt;I became aware recently that there were many C# compiler errors that do not have a corresponding documentation page.  That documentation is open-source and I chose to spend some time contributing some pages for the community. Looking at a language feature from the perspective of its compile-time errors is rather enlightening, so I'd though I'd write a bit about these features in hopes of offering a better understanding for my readers.&lt;/p&gt;
&lt;p&gt;C# compiler errors can be categorized (arbitrarily) by different areas of C# syntax, and I started to focus on one category at a time.  One of those areas involves referenced variables.  C# has always has &lt;code&gt;ref&lt;/code&gt; arguments, but &lt;code&gt;ref&lt;/code&gt; return, &lt;code&gt;ref&lt;/code&gt; locals, &lt;code&gt;ref&lt;/code&gt; structs, and &lt;code&gt;ref&lt;/code&gt; fields have been additions to the syntax.&lt;/p&gt;
&lt;p&gt;The declaration of a variable in C# influences its syntax in a couple ways: binding and accessibility.  Accessibility is whether an identifier is &lt;em&gt;visible&lt;/em&gt; at compile-time in a given context.  Binding is how an identifier or name is bound at run-time to resources like data and code.  Binding uniquely affect the compile-time correctness of any particular usage of a &lt;code&gt;ref&lt;/code&gt; variable.&lt;/p&gt;
&lt;p&gt;Binding affects the compile-time usage of an identifier because of the run-time lifetime of the resources it is bound to. You're probably familiar with a static method accessing instance data and the errors caused in this context. &lt;code&gt;ref&lt;/code&gt; variables have a similar context when they are stack allocated. Heap-allocated objects (objects bound to the heap) can have their lifetime extended to be long-lived because the heap shares the same lifetime as the application. Variables bound to stack-allocated resources cannot have their lifetime extended beyond a specific scope. The stack is a sequential collection of elements with elements implicitly partitioned by a shared scope. The most recognized scope is probably a method call or method/lambda body. Local variables bound to stack elements do not have a lifetime beyond the method call. A reference to a stack object cannot be assigned to a variable or expression with a broader scope.&lt;/p&gt;
&lt;p&gt;How far the value of an expression can leave the confines of its declaration scope is called &amp;quot;escape scope&amp;quot;.  Sometimes the escape scope is the same as the declaration scope.  The compiler verifies compatible escape scopes during assignment.  For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;    void M(ref int ra)
    {
        int number = 0;
        ref int rl = ref number;
        if (ra == 0)
        {
            int x = number;
            rl = ref x;
        }
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;x&lt;/code&gt; is local to the &lt;code&gt;if&lt;/code&gt; body, it is bound to the stack, and its escape scope is narrower than &lt;code&gt;ref rl&lt;/code&gt; because &lt;code&gt;ref rl&lt;/code&gt; is declared in the outer scope.  Since &lt;code&gt;ref rl&lt;/code&gt; is an alias to another variable, it cannot reference a variable bound to a resource that will go out of scope before it does.  &lt;code&gt;rl = ref x&lt;/code&gt; results in a compiler error.  If &lt;code&gt;rl&lt;/code&gt; were not a reference to a value type, the assignment would be okay because &lt;code&gt;x&lt;/code&gt; would be bound to heap and have a broader escape scope.&lt;/p&gt;
&lt;p&gt;The compiler also verifies compatible escape scopes when returning values.  For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;    ref int M(ref int ra)
    {
        int number = 0;
        ref int rl = ref number;
        if (ra == 0)
        {
            ref int x = ref number;
            return ref x;
        }
        return ref ra;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;return ref x&lt;/code&gt; results in a compiler error because the escape scope of &lt;code&gt;x&lt;/code&gt; is local to the method.  The error message here may not be as clear as the first because it doesn't mention the narrower escape scope.&lt;/p&gt;
&lt;p&gt;There are the basic escape scopes.  A calling method scope, a current method scope, and a return-only scope.&lt;/p&gt;
&lt;p&gt;The calling method scope is a scope outside of the containing method/lambda.  References can reach this scope via either a &lt;code&gt;ref&lt;/code&gt; parameter or a return.&lt;/p&gt;
&lt;p&gt;The current method scope is a scope within a containing method/lambda.&lt;/p&gt;
&lt;p&gt;The return-only scope is a special case for &lt;code&gt;ref struct&lt;/code&gt; types that can only leave the method scope via a return and not through a &lt;code&gt;ref&lt;/code&gt; or &lt;code&gt;out&lt;/code&gt; parameter.&lt;/p&gt;
</content>
		<summary>&lt;p&gt;I became aware recently that there were many C# compiler errors that do not have a corresponding documentation page.  That documentation is open-source and I chose to spend some time contributing some pages for the community. Looking at a language feature from the perspective of its compile-time errors is rather enlightening, so I'd though I'd write a bit about these features in hopes of offering a better understanding for my readers.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/the-fundamental-quality-attributes-of-technology-systems</id>
		<title>Fundamental Quality Attributes of Technology Systems</title>
		<link href="http://blog.peterritchie.com/posts/the-fundamental-quality-attributes-of-technology-systems" />
		<updated>2022-09-16T00:00:00Z</updated>
		<content>&lt;p&gt;What are quality attributes? The term &amp;quot;non-functional requirements&amp;quot; has been more prevalent, but that is a technologist's term. The first time you bring up &amp;quot;non-functional requirements&amp;quot; with a customer, there's always confusion, then concern. I've heard more than once, &amp;quot;we want something functional.&amp;quot;&lt;/p&gt;
&lt;p&gt;The most important attribute of a system is its functionality. Functionality is whether a system is &lt;em&gt;fit for purpose&lt;/em&gt;. A system's functionality is what makes it unique, so I'll defer detail on functional attributes for another time. In this post I'll focus this post on cross-cutting quality attributes that permeate all aspects of a solution.&lt;/p&gt;
&lt;p&gt;Quality attributes are the characteristics a system needs to exhibit--qualifications of the system's desired functionality. Quality attributes address customer concerns regarding the degree of success of a system. A customer's concerns of a system are unique and thus precludes having a universal prioritized list of quality attributes.&lt;/p&gt;
&lt;p&gt;It is simple to describe the characteristics a customer expects of a system that provides the features they need:  Customers expect features that operate without fault or error, operate consistently within expectations, operate within resource constraints, and protect from unauthorized access. Translating that into a collection of system-specific measures is an enormous undertaking that cannot be taken lightly.&lt;/p&gt;
&lt;p&gt;Many philosophies about quality attributes (usually termed &amp;quot;quality models&amp;quot;) exist, like FURPS, ISO/IEC 9126/25010, McCall, etc. These models detail several categories that organize the many adjectives that can apply to software systems. Some common categories may include Reliable, Efficient, Maintainable, Secure, etc. I view quality attributes as a palette of possible adjectives; no one list is perfect for every situation. There are top-/high-level categorizations that can apply more broadly. When discussing quality attributes, we use the noun form (Reliability vs. Reliable.) I've landed on the following top-level categories (in no particular order): Performance, Operability, Security, and Dependability.&lt;/p&gt;
&lt;h2 id="dependability-of-features"&gt;Dependability (of features)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;to function, without fault or error&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dependability involves concerns such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;availability — readiness for usage&lt;/li&gt;
&lt;li&gt;reliability — continuity of service&lt;/li&gt;
&lt;li&gt;safety — non-occurrence of catastrophic consequences on the environment&lt;/li&gt;
&lt;li&gt;confidentiality — non-occurrence of unauthorized disclosure of information&lt;/li&gt;
&lt;li&gt;integrity — non-occurrence of improper alterations of information&lt;/li&gt;
&lt;li&gt;maintainability — aptitude to undergo repairs and evolution&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="performance-of-execution"&gt;Performance (of execution)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To function within resource constraints (time, compute, storage, memory, network) constraints&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Performance involves concerns such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;latency - the degree of responsiveness.&lt;/li&gt;
&lt;li&gt;throughput - the rate at which work can be performed&lt;/li&gt;
&lt;li&gt;capacity - the amount of work that can be performed&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="operability-of-function"&gt;Operability (of function)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;to become and remain operable.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Operability involves concerns such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;deployability - the ability of a system to be put into production&lt;/li&gt;
&lt;li&gt;monitorability - the ability of a system's health and operation to be monitored&lt;/li&gt;
&lt;li&gt;configurability - the ability of a system's behavior to be customized&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="security"&gt;Security&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To ensure authorized usage.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Security involves concerns such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Confidentiality - the quality of a system restrict access to information&lt;/li&gt;
&lt;li&gt;Integrity - the quality of a system adhere to accuracy and consistency of information and behavior&lt;/li&gt;
&lt;li&gt;Availability - the quality of a system to provide access to information to those authorized&lt;/li&gt;
&lt;li&gt;accountability - the quality of a system to account for its actions when fulfilling its responsibilities&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because quality attributes address customer concerns, there are overlaps between categories. For example, there's a dependability concern that data integrity does not impact functionality; there's also a security concern that data integrity doesn't result in data loss. Don't let the overlap distract you from what's best for your solution. It will change even if you could pre-define a complex structure of quality attributes most suitable for your solution. Needs change, priorities change, and quality attributes are philosophic influencers to a solution that requires nurturing.&lt;/p&gt;
</content>
		<summary>&lt;p&gt;What are quality attributes? The term "non-functional requirements" has been more prevalent, but that is a technologist's term. The first time you bring up "non-functional requirements" with a customer, there's always confusion, then concern. I've heard more than once, "we want something functional."&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/naming-things-events-and-action</id>
		<title>Naming Things - Common Actions and Events</title>
		<link href="http://blog.peterritchie.com/posts/naming-things-events-and-action" />
		<updated>2022-09-01T00:00:00Z</updated>
		<content>&lt;p&gt;In this multi-part series on Naming Things, I dig into the benefits of having a clear understanding of common terms and concepts--in this case, common actions and events.&lt;/p&gt;
&lt;p&gt;What does Deleted mean? Is it the same as Removed or Destroyed? What if you want to support soft delete as well as hard delete?&lt;/p&gt;
&lt;p&gt;I want to be clear; these aren't developer decisions. They're developer problems based on a lack of clarity in the customer's domain. A customer likely won't use terms like &amp;quot;soft delete&amp;quot; and &amp;quot;hard delete .&amp;quot;The customer will probably refer to the most common form of delete as &amp;quot;delete.&amp;quot; An architect role is responsible for teasing out the nuances of meaning into terms that the subject matter experts agree upon and getting consensus on usage with the development team.&lt;/p&gt;
&lt;p&gt;Every system involves mutating data and information, yet it can be a common source of confusion regarding naming things. There are multiple types of data changes. Systems can create new data and may add that new data to a collection--physical or logical. Systems may change data, or designers may change the structure of data. Data is often removed--from a particular view or existence.&lt;/p&gt;
&lt;p&gt;English allows us to reuse terms to mean many things. &amp;quot;Delete&amp;quot; and &amp;quot;changed,&amp;quot; for example. There are well-known terms that enable us to communicate intent and consequences easily. But, when we reuse these terms across different contexts with different intents and consequences, we introduce the possibility of confusion, making naming things seem difficult.&lt;/p&gt;
&lt;p&gt;It's important to understand the different intents and resulting consequences to data and attempt to get consensus on names and terms that adequately and uniquely represent these situations.&lt;/p&gt;
&lt;p&gt;&amp;quot;Delete&amp;quot; is a common point of confusion. There may be a need for &lt;em&gt;soft deletes&lt;/em&gt; and &lt;em&gt;hard deletes&lt;/em&gt;; both of WHICH make data inaccessible in a context. But, data may also be moved from one context to another, changing its accessibility but not making it &lt;em&gt;inaccessible&lt;/em&gt;. To use a single term like &amp;quot;delete&amp;quot; for all of these situations leads to confusion and issues in naming things.&lt;/p&gt;
&lt;!--
An important aspect of naming: name the consistency boundary. What is a date? A year, month, and day. If we included time, is it still a date? Typically that would be called date/time.  
--&gt;
&lt;p&gt;Each domain can be different, but the situations I've just described are very common. For those, I start with unique terms for each and work with the subject matter experts to refine them (if needed):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Deleted&lt;/strong&gt; means something is no longer accessible in some context.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Destroyed&lt;/strong&gt; means removed from existence; no possible way to ever get it back.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Removed&lt;/strong&gt; means a thing has been moved out of or removed from a container/collection.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inverse terms:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Created&lt;/strong&gt; signifies something new has come into existence (rather than Added).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Added&lt;/strong&gt;* signifies something has been added to a container or collection.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mutating information seems like such a simple concept. But, we often need to know if data changes within the context of other data.  Unique data mutation terms I start out with when working with subject matter experts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Updated&lt;/strong&gt; signifies the value properties or attributes of an existing thing (entity) have been changed.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Changed&lt;/strong&gt; signifies an entire thing (entity) has been replaced with another.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="word-form"&gt;Word Form&lt;/h2&gt;
&lt;p&gt;Actions are verbs, and events are past participles constructed from verbs. Most event names are constructed from regular verbs by adding the prefix -ed. Delete + ed: deleted; create + ed: created.  Sometimes events are constructed from irregular verbs and don't end in ed. Bind: bound; drive: driven; sleep: slept.&lt;/p&gt;
&lt;p&gt;Events are not simply verbs in past tense form. An event's context is that it is related to a subject. For example, the event &amp;quot;deleted&amp;quot; involves a subject and is used to describe the current state as a result of a past action. In grammar, this is &lt;em&gt;present perfect tense&lt;/em&gt; and implies an auxiliary verb of &amp;quot;has been .&amp;quot;e.g., &lt;em&gt;The customer record has been deleted&lt;/em&gt; or &lt;em&gt;The customer record is deleted&lt;/em&gt;. Since this details the subject somehow, it is also in a &lt;em&gt;present indicative&lt;/em&gt; form. This detail is important but normally for edge cases. Normal domain narratives should align with this because that's normal language in these scenarios.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Match events to actions; don't define events when no action would result in that event.&lt;/li&gt;
&lt;li&gt;Don't assume events always end in &amp;quot;ed.&amp;quot;&lt;/li&gt;
&lt;li&gt;Events are present indicative, past participles, and in the present perfect tense.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Do you have other actions and events that you commonly encounter?&lt;/p&gt;
</content>
		<summary>&lt;p&gt;In this multi-part series on Naming Things, I dig into the benefits of having a clear understanding of common terms and concepts--in this case, common actions and events.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Message-oriented-Minimal-APIs-in-ASP.NET</id>
		<title>Message-oriented Minimal APIs in ASP.NET Core</title>
		<link href="http://blog.peterritchie.com/posts/Message-oriented-Minimal-APIs-in-ASP.NET" />
		<updated>2022-08-28T00:00:00Z</updated>
		<content>&lt;p&gt;TL;DR - &lt;a href="#implementation-details"&gt;go to the implementation details&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;First of all, what is message-oriented?  Like many things in technology and life, terms like &amp;quot;oriented&amp;quot; are frequently used whose meaning may not be immediately connected to its usage.  Object-oriented, message-oriented, aspect-oriented, etc. have a vague meaning when used, which can sometimes introduce a lack of clarity.&lt;/p&gt;
&lt;p&gt;*-Oriented means that a particular concept always taken into consideration and utilized in the specified circumstances.  Message-oriented means that interactions between concepts &lt;em&gt;at a certain layer&lt;/em&gt; involve messages.  This is sometimes referred to as Message Passing; or that communication between layer-specific concepts it done by passing messages to each other.&lt;/p&gt;
&lt;p&gt;Things can be oriented in many ways at the same time.  A system may be simultaneously message-oriented and object-oriented, for example--which usually means that what produces and consumes messages are implemented as &lt;em&gt;objects&lt;/em&gt;.&lt;/p&gt;
&lt;!--Some may say that the Command Pattern is message-oriented.  For the purposes of this article, that's not the complete story.  A command can (and should) be a message; but a message on it's own does not constitute message-orientation.  Falling back to Message Passing, it's how the command is communicated is what makes a component message-oriented.

## Is HTTP Message-Oriented?

Yes, HTTP is message-oriented.  Underlying layers (like TCP) implement HTTP via frames and streams (and packets, datagrams, etc.) but at the HTTP layer, communication between major concepts is done with what is called "messages".
--&gt;
&lt;h2 id="being-message-oriented"&gt;Being Message-Oriented&lt;/h2&gt;
&lt;p&gt;Message-orientation demands a level of loose coupling.  In object-oriented message-orientation objects donn't communicate with each other directly, a third-party transports message from the sender (or producer) to the receiver (or the consumer).  There an many ways that can happen: queues (or simply collections), mediators, buses, etc.  The type of the third-party component depends on the degree of loose coupling and how much work the third party takes on to transport those messages.  For the purposes of this article I'll focus on &lt;em&gt;Bus Architecture&lt;/em&gt;.  Bus Architecture is a combination of a common data model, a common command set, and an infrastructure that provides a shared set of interfaces to transport messages.&lt;/p&gt;
&lt;h2 id="being-successfully-message-oriented"&gt;Being Successfully Message-Oriented&lt;/h2&gt;
&lt;p&gt;As with any layered architecture, implementation details at different layers allow us to compartmentalize different concerns to ease understanding and simplify implementation.  Message-oriented systems often classify messages to better implement and support a subdomain.  Messages are often classified as commands, events, or documents to better support common subdomain and communication scenarios.  Commands are messages that communicate a request or imperative intent.  Events are messages that communicate or encapsulate a change in state.  And documents are messages that contain data independent of a command or an event.&lt;/p&gt;
&lt;h2 id="why-minimal-apis"&gt;Why Minimal APIs?&lt;/h2&gt;
&lt;p&gt;You may have read articles like &amp;quot;&lt;a href="https://ardalis.com/mvc-controllers-are-dinosaurs-embrace-api-endpoints/"&gt;MVC Controllers are Dinosaurs - Embrace API Endpoints&lt;/a&gt;&amp;quot; that suggest that modern MVC implementation have controllers that don't actually &amp;quot;control&amp;quot; anything.  MVC details that Models, Views, and Controllers are decoupled from one another and cohesive in and of themselves.  Controllers should interpret input and convert it into invocations upon the model and the view.  Models are a dynamic data structure that directly manages data, logic, and rules for a given context.  When MVC was devised, the controller was far closer to the user and took on more responsibility to imperatively translate and route data.  With modern systems and technologies like JSON and programming language syntax, much of that translation and routing can be declarative--wiring up a request, its route, and the receiver of the command directly.&lt;/p&gt;
&lt;table class="table"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;As an aside, many have argued that &lt;em&gt;model&lt;/em&gt; and &lt;em&gt;view&lt;/em&gt; have been muddied and that &lt;em&gt;view&lt;/em&gt; doesn't exist with RESTful APIs, questioning &amp;quot;MVC&amp;quot; implementations altogether.&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;/table&gt;
&lt;p&gt;When you don't really have a controller and data translation occurs under the hood, going through the motions of controllers and models with core subdomain objects is viewed as needless ceremony.&lt;/p&gt;
&lt;h2 id="message-oriented-frameworks"&gt;Message-Oriented Frameworks&lt;/h2&gt;
&lt;p&gt;I've been working with a simple-but-no-simpler messaging library for several years.  It's a set of libraries that I maintain called &lt;code&gt;[PRI.Messaging](https://github.com/peteraritchie/Messaging)&lt;/code&gt;.  It consists of primitive types (abstractions) (&lt;code&gt;PRI.Messaging.Primitives&lt;/code&gt;) and pattern implementations (&lt;code&gt;PRI.Messaging.Patterns&lt;/code&gt;).  It makes ideas like consumers, producers, and buses first-class concepts.  PRI.Messaging.Patterns includes a bus implementation that assumes the role of dependency injection and message routing, allowing you to simply create message producers, message consumers, and have them automatically wired-up and messages routed appropriately.&lt;/p&gt;
&lt;p&gt;I'll be using these libraries to implement message-oriented minimal APIs in ASP.NET Core 6+.&lt;/p&gt;
&lt;h2 id="implementation-details"&gt;Implementation Details&lt;/h2&gt;
&lt;p&gt;For simplicity, I'll show making the default project created for minimal APIs message-oriented; get ready for some weather forecasting.&lt;/p&gt;
&lt;p&gt;Starting with creating the default project:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-powershell"&gt;dotnet new webapi -minimal -o WebApi
dotnet new sln -n example
dotnet sln example.sln add WebApi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives us OpenAPI (Swagger) and HTTPs support along with a single &lt;code&gt;weatherforecast&lt;/code&gt; endpoint and a &lt;code&gt;WeatherForecast&lt;/code&gt; response model (message).&lt;/p&gt;
&lt;p&gt;The important code from Program.cs:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var summaries = new[]
{
    &amp;quot;Freezing&amp;quot;, &amp;quot;Bracing&amp;quot;, &amp;quot;Chilly&amp;quot;, &amp;quot;Cool&amp;quot;, &amp;quot;Mild&amp;quot;, &amp;quot;Warm&amp;quot;, &amp;quot;Balmy&amp;quot;, &amp;quot;Hot&amp;quot;, &amp;quot;Sweltering&amp;quot;, &amp;quot;Scorching&amp;quot;
};

app.MapGet(&amp;quot;/weatherforecast&amp;quot;, () =&amp;gt;
{
    var forecast =  Enumerable.Range(1, 5).Select(index =&amp;gt;
        new WeatherForecast
        (
            DateOnly.FromDateTime(DateTime.Now.AddDays(index)),
            Random.Shared.Next(-20, 55),
            summaries[Random.Shared.Next(summaries.Length)]
        ))
        .ToArray();
    return forecast;
})
.WithName(&amp;quot;GetWeatherForecast&amp;quot;)
.WithOpenApi();

app.Run();

record WeatherForecast(DateOnly Date, int TemperatureC, string? Summary)
{
    public int TemperatureF =&amp;gt; 32 + (int)(TemperatureC / 0.5556);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To become message-oriented we need to first create explicit messages to represent the interactions.  For this I've created a &lt;code&gt;GetWeatherForecastCommand&lt;/code&gt; command and a &lt;code&gt;WeatherForecastedEvent&lt;/code&gt; event:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class GetWeatherForecastCommand : ICommand
{
    public string CorrelationId { get; set; } = Guid.NewGuid().ToString();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class WeatherForecastedEvent : IEvent
{
    public WeatherForecast[] Forecasts { get; }

    public WeatherForecastedEvent(WeatherForecast[] forecasts)
    {
        Forecasts = forecasts;
    }

    public DateTime OccurredDateTime { get; set; } = DateTime.UtcNow;
    public string CorrelationId { get; set; } = Guid.NewGuid().ToString();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we need something that explicitly handles (consumes) the &lt;code&gt;GetWeatherForecastCommand&lt;/code&gt; command produces the &lt;code&gt;WeatherForecastedEvent&lt;/code&gt; event.  I prefer to call these types of things &amp;quot;Command Handlers&amp;quot;.  So,:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class GetWeatherForecastCommandHandler : IConsumer&amp;lt;GetWeatherForecastCommand&amp;gt;, IProducer&amp;lt;WeatherForecastedEvent&amp;gt;
{
    private IConsumer&amp;lt;WeatherForecastedEvent&amp;gt; consumer = new ActionConsumer&amp;lt;WeatherForecastedEvent&amp;gt;((_) =&amp;gt; { });

    public void AttachConsumer(IConsumer&amp;lt;WeatherForecastedEvent&amp;gt; consumer)
    {
        this.consumer = consumer;
    }

    private readonly string[] summaries = new[]
    {
        &amp;quot;Freezing&amp;quot;, &amp;quot;Bracing&amp;quot;, &amp;quot;Chilly&amp;quot;, &amp;quot;Cool&amp;quot;, &amp;quot;Mild&amp;quot;, &amp;quot;Warm&amp;quot;, &amp;quot;Balmy&amp;quot;, &amp;quot;Hot&amp;quot;, &amp;quot;Sweltering&amp;quot;, &amp;quot;Scorching&amp;quot;
    };

    public void Handle(GetWeatherForecastCommand message)
    {
        var forecasts = Enumerable.Range(1, 5).Select(index =&amp;gt;
            new WeatherForecast
            (
                DateTime.Now.AddDays(index),
                Random.Shared.Next(-20, 55),
                summaries[Random.Shared.Next(summaries.Length)]
            ))
            .ToArray();

        consumer.Handle(new WeatherForecastedEvent(forecasts));
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you'll see in this command handler, I've moved the implementation details from Program.cs and encapsulated them into this class (i.e. &lt;code&gt;summaries&lt;/code&gt; and the creation of the &lt;code&gt;WeatherForcast&lt;/code&gt; array.)&lt;/p&gt;
&lt;p&gt;Returning to Program.cs, we now need to inject a &lt;code&gt;Bus&lt;/code&gt; service and update the route endpoint to accept a bus instance, translate to our command, and send it to the bus.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;app.MapGet(&amp;quot;/weatherforecast&amp;quot;, async (IBus bus) =&amp;gt;
{
    WeatherForecastedEvent result =
        await bus.RequestAsync&amp;lt;GetWeatherForecastCommand, WeatherForecastedEvent&amp;gt;(
            new GetWeatherForecastCommand());
    return Results.Ok(result.Forecasts);
})
.WithName(&amp;quot;GetWeatherForecast&amp;quot;)
.WithOpenApi();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;IBus&lt;/code&gt; &lt;code&gt;RequestAsync&lt;/code&gt; extension method implements the asynchronous request-reply pattern.&lt;/p&gt;
&lt;p&gt;With our messages, consumers, and producers we can now create a message bus singleton and have it wire-up the producers and the consumers.  This is simply done by invoking the &lt;code&gt;IBus.AddHandlersAndTranslators&lt;/code&gt; method in addition to registering a singleton bus:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;IBus bus = new Bus();
bus.AddHandlersAndTranslators(
    Path.GetDirectoryName(typeof(Program).Assembly.Location)!,
    Path.GetFileName(typeof(Program).Assembly.Location), &amp;quot;&amp;quot;);
builder.Services.AddSingleton(bus);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="summary"&gt;Summary&lt;/h2&gt;
&lt;p&gt;As you can see, the route endpoint has an &lt;code&gt;IBus&lt;/code&gt; injected into it (i.e. Dependency Injection) and is only concerned with sending a &lt;code&gt;GetWeatherForecastCommand&lt;/code&gt; message and receiving a &lt;code&gt;WeatherForecastedEvent&lt;/code&gt; message. Where that command goes and where the event comes from (and how it gets created) are irrelevant (i.e. neither knows nor cares about &lt;code&gt;GetWeatherForecastCommandHandler&lt;/code&gt;).  With the implementation details of weather forecasting moved out into &lt;code&gt;GetWeatherForecastCommandHandler&lt;/code&gt; those details are now longer directly coupled to a web API.  &lt;code&gt;GetWeatherForecastCommandHandler&lt;/code&gt; exists in its own library and can be used by several types of applications.  &lt;code&gt;GetWeatherForecastCommandHandler&lt;/code&gt; could be used, as is, within a console application, a PowerShell CmdLet, etc.  As with any well designed loosely coupled system, it's just a matter of correctly setting up a service container for the specific circumstances.&lt;/p&gt;
&lt;p&gt;How will you use event-orientation?&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://ardalis.com/mvc-controllers-are-dinosaurs-embrace-api-endpoints/"&gt;MVC Controllers are Dinosaurs - Embrace API Endpoints | Ardalis Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/peteraritchie/Messaging"&gt;PRI.Messaging - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.nuget.org/packages/PRI.Messaging.Primitives/3.0.0-beta"&gt;PRI.Messaging.Primitives - Nuget&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.nuget.org/packages/PRI.Messaging.Patterns/3.0.0-beta"&gt;PRI.Messaging.Patterns - Nuget&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/azure/architecture/patterns/async-request-reply"&gt;Asynchronous Request-Reply Pattern - Azure Architecture Center&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.enterpriseintegrationpatterns.com/RequestReply.html"&gt;Request-Reply Messaging Pattern - Enterprise Integration Patterns&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
		<summary>&lt;p&gt;TL;DR - &lt;a href="#implementation-details"&gt;go to the implementation details&lt;/a&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/data-urls-in-markdown</id>
		<title> Data URLs in Markdown</title>
		<link href="http://blog.peterritchie.com/posts/data-urls-in-markdown" />
		<updated>2022-06-27T00:00:00Z</updated>
		<content>&lt;ul&gt;
&lt;li&gt;Data URLs embed data within the URI instead of being a link&lt;/li&gt;
&lt;li&gt;Data URLs can be used to embed images into a web page&lt;/li&gt;
&lt;li&gt;Data URLs can be used for images in markdown&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="#data-urls"&gt;TL;DR&lt;/a&gt;⮷&lt;/p&gt;
&lt;h2 id="background"&gt;Background&lt;/h2&gt;
&lt;h3 id="links-in-markdown"&gt;Links in Markdown&lt;/h3&gt;
&lt;p&gt;URLs can be used in markdown as a hyper-link to another location (another page, or an anchor in the current page, or both.) These links in markdown come in two varieties: &amp;quot;conventional&amp;quot; and reference-style.  Conventional links have the format &lt;code&gt;[text](url)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Reference-style links have a two-part format.  The first is the reference declaration which consists of a name and the URL.  For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-markdown"&gt;[twitter]: https://twitter.com/peterritchie
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Typically the reference declarations appear at the end of the markdown file.&lt;/p&gt;
&lt;p&gt;That second-part of the format is slightly different than a conventional link: &lt;code&gt;[Visible Text][reference-name]&lt;/code&gt; (notice that both parts are enclosed in square brackets)&lt;/p&gt;
&lt;p&gt;For example: &lt;code&gt;[Me&amp;#64;Twitter][twitter]&lt;/code&gt;.  Which would result in &lt;a href="https://twitter.com/peterritchie"&gt;Me&amp;#64;Twitter&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;That reference can be used any number of times within markdown by referencing the reference name.&lt;/p&gt;
&lt;h3 id="images-in-markdown"&gt;Images in Markdown&lt;/h3&gt;
&lt;p&gt;An image in markdown is a special kind of link; it follows the same format as other links &lt;em&gt;except&lt;/em&gt; that it starts with an exclamation mark (!) and has an optional title-text enclosed in quotes.  For example &lt;code&gt;![alt-text](url &amp;quot;title-text&amp;quot;)&lt;/code&gt;.  Since the image is what is visible, the title text portion of the link is text shown when hovering over the image and the alternative text is used by accessibility features.&lt;/p&gt;
&lt;h2 id="data-urls"&gt;Data URLs&lt;/h2&gt;
&lt;p&gt;There exists the ability to encode content within a URL (so the URL is actually the &amp;quot;response&amp;quot; in the conventional URI request scenario).  &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs"&gt;Data URLs&lt;/a&gt; (Formally known as Data &lt;em&gt;URIs&lt;/em&gt;) use the &lt;code&gt;data:&lt;/code&gt; URI schema followed by an optional media type, an optional base64 extension (&lt;code&gt;;base64&lt;/code&gt;) followed by data (if the &lt;code&gt;base64&lt;/code&gt; extension is used the data is binary and is base-64 encoded).&lt;/p&gt;
&lt;p&gt;For example, with binary data for a red dot png a data URL may look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="images-data-urls-and-reference-style-markdown-links"&gt;Images, Data Urls, and Reference-Style Markdown Links&lt;/h3&gt;
&lt;p&gt;Data URLs may be used in markdown image links. With image markdown format and a data URL:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-text"&gt;![a red dot](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;... and result in: &lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==" class="img-fluid" alt="a red dot" title="The Image" /&gt;&lt;/p&gt;
&lt;p&gt;...or with title text:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-text"&gt;![a red dot](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg== &amp;quot;The Image&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;... and result in: &lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==" class="img-fluid" alt="a red dot" title="The Image" /&gt;&lt;/p&gt;
&lt;p&gt;Or, with a reference-style image link:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-markdown"&gt;![a red dot][red-dot]

[red-dot]: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;... and result in: &lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==" class="img-fluid" alt="a red dot" /&gt;&lt;/p&gt;
&lt;p&gt;Data URLs are a handy way to reduce the number of files involved in a page.  Like any feature, that can get ridiculous so the value comes when working with small chunks of data (like a red dot image.)&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs"&gt;Data URLs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Data_URI_scheme"&gt;Data URI Scheme (wikipedia)&lt;/a&gt;&lt;/p&gt;
</content>
		<summary>&lt;p&gt;&lt;a href="#data-urls"&gt;TL;DR&lt;/a&gt;⮷&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/agile-off-the-rails</id>
		<title>As a Delivery Team Member, I Want To Know if My Organization's Agile Initiative Is off the Rails</title>
		<link href="http://blog.peterritchie.com/posts/agile-off-the-rails" />
		<updated>2022-06-19T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;img src="/assets/adult-gd72730acb_1920.jpg" class="img-fluid" alt="concentration" /&gt;&lt;/p&gt;
&lt;p&gt;Image by &lt;a href="https://pixabay.com/users/pexels-2286921/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1850268"&gt;Pexels&lt;/a&gt; from &lt;a href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1850268"&gt;Pixabay&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Or, &lt;em&gt;as a delivery team member, I want to know if my organization's agile initiative is off the rails, so that I may compensate for it&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I have been an agile team member (delivery, engineering) in many organizations. There is a spirit to any defined agile process, a spirit that addresses known time-to-market and quality fallacies. Agile processes are like any good guidance; they are based on experience and techniques proven to address known problems.&lt;/p&gt;
&lt;p&gt;First, some context:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Excellence&lt;/strong&gt; is not about being perfect but about recognizing and exploiting opportunity.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;Project&lt;/strong&gt; is a temporary, planned effort to achieve a particular aim.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;Sprint&lt;/strong&gt; is a time-boxed period where a team works to deliver usable functionality to stakeholders.&lt;/p&gt;
&lt;p&gt;Goals and objectives are often &lt;strong&gt;Means Goals&lt;/strong&gt; and &lt;strong&gt;Means Objectives&lt;/strong&gt;, signifying they are a catalytic end to realize another end.&lt;/p&gt;
&lt;p&gt;Objectives that are meant to accomplish other objectives exist in a continuum of objectives called &lt;strong&gt;Cascading Objectives&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;Key Result&lt;/strong&gt; is not qualitatively measured (&amp;quot;done,&amp;quot; &amp;quot;improved,&amp;quot; etc.); they are measured quantitatively (&amp;quot;improved by 25%,&amp;quot; &amp;quot;decreased by a factor of 2,&amp;quot; etc.)&lt;/p&gt;
&lt;p&gt;Agile methodologies embody a continuum of purpose, motivation, and improvement. Purpose, motivation, and improvement are not team-specific concepts but are organization-wide constructs. This continuum is the result of the act of leadership.&lt;/p&gt;
&lt;p&gt;Over the years, I have witnessed many patterns of behavior that have resulted in failed agile delivery. Following are some common of those practices,&lt;/p&gt;
&lt;h2 id="agile-is-the-only-process"&gt;Agile Is the Only Process&lt;/h2&gt;
&lt;p&gt;Agile's raison d'être is to deliver value to the stakeholders. Agile is a project management technique; no enterprise devotes 100% of its resources to projects. An enterprise has a purpose for existing (their &lt;em&gt;why&lt;/em&gt;, the vision) and has a current means to achieve that purpose (their mission). Any effort not gauged by whether it satisfies the overall mission (and thus aligns with the purpose) can only succeed accidentally. Planning to succeed accidentally is not planning, and that sort of &amp;quot;planning&amp;quot; is a waste of time. Agile organizations put effort into addressing assumptions before planning value delivery.&lt;/p&gt;
&lt;p&gt;You know an organization is working against itself and pretending to be agile when:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;100% of engineering time is devoted to &amp;quot;sprints.&amp;quot;&lt;/li&gt;
&lt;li&gt;Sprints are planned correctly 100% of the time and are never canceled due to change.&lt;/li&gt;
&lt;li&gt;A project plan does not focus on an operational outcome.&lt;/li&gt;
&lt;li&gt;Spikes are exceedingly rare.&lt;/li&gt;
&lt;li&gt;No stakeholder has communicated what they value.&lt;/li&gt;
&lt;li&gt;Stakeholders do not declare a spike's usable functionality; the delivery team declares it.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="no-one-has-okr-training-or-expertise"&gt;No One Has OKR Training or Expertise&lt;/h2&gt;
&lt;p&gt;Goals and objectives are easily understood conceptually but are hard to implement in reality. One of the impetus' of OKRs is to recognize and address that. Objectives and deliverables are consequents of goals; they are the means to a larger end while still being an end in and of themselves. In isolation, objectives and deliverables are meaningless and, like any other misguided activities, detract from the purpose of accomplishing them. OKRs attempt to associate goal-oriented &lt;em&gt;key results&lt;/em&gt; with individual objectives, objectives that cascade from higher-level objectives.&lt;/p&gt;
&lt;p&gt;You know OKRs are in name only when:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Objectives do not cascade from higher-level objectives&lt;/li&gt;
&lt;li&gt;Key results are an action, not an event&lt;/li&gt;
&lt;li&gt;Key results are not measurable&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To be honest, I've only ever seen failed implementations of OKRs--OKRs more often address perceived delivery failures rather than leadership failures. i.e., they are a management technique rather than a result of leadership.&lt;/p&gt;
&lt;h2 id="leadership-in-name-only"&gt;Leadership in Name Only&lt;/h2&gt;
&lt;p&gt;A manager creates and judges the attainment of goals (doing things right). A leader communicates and cultivates purpose and vision (doing the right things).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There are only &amp;quot;leaders&amp;quot; and no &amp;quot;managers.&amp;quot;&lt;/li&gt;
&lt;li&gt;&amp;quot;Leaders&amp;quot; that are late to every meeting.&lt;/li&gt;
&lt;li&gt;Activities are judged, not outcomes.&lt;/li&gt;
&lt;li&gt;Goals and objectives are only ever qualitative, not quantitative.&lt;/li&gt;
&lt;li&gt;Personal improvement is not a measured performance metric.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, I could go on. There are many more examples and many bad practices. I'd love to hear about what you've witnessed and your thoughts on these and other bad practices.&lt;/p&gt;
&lt;!--
## References:

https://www.forbes.com/sites/williamarruda/2016/11/15/9-differences-between-being-a-leader-and-a-manager/?sh=2432b1424609

--&gt;
</content>
		<summary>&lt;p&gt;&lt;img src="/assets/adult-gd72730acb_1920.jpg" class="img-fluid" alt="concentration"&gt;&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Environment-Variables-with-CSharp-Conditional-Compilation-Symbols</id>
		<title>Environment Variables with C# Conditional Compilation Symbols</title>
		<link href="http://blog.peterritchie.com/posts/Environment-Variables-with-CSharp-Conditional-Compilation-Symbols" />
		<updated>2019-12-12T00:00:00Z</updated>
		<content>&lt;p&gt;Have you ever thought, it would be nice to have a symbol like &lt;code&gt;PETERRIT&lt;/code&gt; that is unique to your domain account that you could use for code that YOU maybe working on but don't want to break the build?&lt;/p&gt;
&lt;p&gt;I occaisionally think I would like to do this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;#if PETERRIT
   public class ViolatileExperiment()
   {
     //...
   }
#endif
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When I think of this I go look at the docs or on Stackoverflow, but I never find anything that allows me to do that.&lt;/p&gt;
&lt;p&gt;I had that thought recently and poked around in the Project Settings for a few minutes to see what's going on.  Interestingly &lt;code&gt;&amp;quot;%USERNAME%&amp;quot;&lt;/code&gt; causes and error, but doesn't break the build.&lt;/p&gt;
&lt;p&gt;Damn, I thought.  But % is so... DOS, maybe they use a different delimiter.  So, I stuck in &lt;code&gt;${USERNAME}&lt;/code&gt;.  Nope.  Then I thought, wait, macros in build events have a specific format!  I entered &lt;code&gt;$(USERNAME)&lt;/code&gt; and low-and-behold &lt;strong&gt;it worked!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It's a little wonky though, in the Project Settings it shows the expanded variable (&lt;code&gt;PETERRIT&lt;/code&gt;), but in the project file it shows the macro reference. (&lt;code&gt;$(USERNAME)&lt;/code&gt;).  I can see the macro reference getting overwritten from time to time.&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;
</content>
		<summary>&lt;p&gt;Have you ever thought, it would be nice to have a symbol like &lt;code&gt;PETERRIT&lt;/code&gt; that is unique to your domain account that you could use for code that YOU maybe working on but don't want to break the build?&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/RESTful-Versioning</id>
		<title>RESTful Versioning</title>
		<link href="http://blog.peterritchie.com/posts/RESTful-Versioning" />
		<updated>2019-11-12T00:00:00Z</updated>
		<content>&lt;p&gt;Versioning is not new.  Versioning seems to be one of those things that people find hard to do or difficult to fully understand, especially with services and APIs.  RESTful versioning seems to be in the realm of Tabs v Spaces, but I want to detail my related observations (mostly of other's writings, but with some added color).&lt;/p&gt;
&lt;h2 id="what-is-a-version"&gt;What is a Version?&lt;/h2&gt;
&lt;p&gt;Before going further, I find defining terms so their meaning is explicit and understood. &lt;em&gt;Version&lt;/em&gt; is no exception.&lt;/p&gt;
&lt;p&gt;A &lt;em&gt;version&lt;/em&gt; recognizes a change to &lt;em&gt;something&lt;/em&gt; already established and assigns it an unique identity.  That identity serves as a moniker for &lt;em&gt;what&lt;/em&gt; changed so that when the &lt;em&gt;something&lt;/em&gt; that changed is processed, it can be differentiated from other &lt;em&gt;somethings&lt;/em&gt; of different versions.&lt;/p&gt;
&lt;h2 id="why-do-we-need-a-version"&gt;Why Do we Need a Version?&lt;/h2&gt;
&lt;p&gt;Based on what a version &lt;em&gt;is&lt;/em&gt;, it may seem easy to at least deduce &lt;em&gt;why&lt;/em&gt;.  That deduction usually &lt;em&gt;to differentiate different versions of things&lt;/em&gt;.  This is &lt;em&gt;what&lt;/em&gt; not &lt;em&gt;why&lt;/em&gt;. This is the part that many people seem to dismiss or let slip by.  In the context the knee-jerk response is &amp;quot;different version of the API&amp;quot; (API Versioning).  But, this simply restating what versioning is.  It's similar to defining &amp;quot;version&amp;quot; as&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;A version is the version of something in relation to other versions of the same thing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yeah, using the word you're defining in the definition is &lt;em&gt;helpful&lt;/em&gt;.  &amp;quot;Version&amp;quot; must provide:&lt;/p&gt;
&lt;h3 id="support-for-past-representations"&gt;Support For Past &lt;em&gt;&lt;strong&gt;Representations&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;The major reason versioning comes into play is because any one &lt;em&gt;representation&lt;/em&gt; of something evolves over time.  Needs change, understanding improves, technology evolves, imperfections are found, etc. and how something is stored or communicated needs to change to accommodate that evolution.&lt;/p&gt;
&lt;p&gt;&amp;quot;Requirements&amp;quot; are an obvious agent of change, and it would be easy to provide a trivial requirements example but a &lt;em&gt;fixing imperfection&lt;/em&gt; example would be more persuasive.  Humans like to be open-minded but inherently we live in our own worlds (our own mental model of the world).  Some of us are empathic and recognize parts of other worlds of the people around us. Or we know about a set of archetypes for which we can optimized interaction.  But in reality there are really 8+ billion other worlds out there and it's simply not humanly possible to know the intricacies of each.  Which means we make assumptions and trade-offs of what is acceptable to all of those other worlds.  Usually our audience isn't all 8+ billion people, so we're generally more correct than incorrect in our assumptions.  But, being incorrect is inevitable and expected. Much like we need to support many personalities, preferences, and needs; we also need to:&lt;/p&gt;
&lt;h3 id="support-multiple-representations-of-concepts"&gt;Support Multiple &lt;em&gt;Representations&lt;/em&gt; of Concepts&lt;/h3&gt;
&lt;p&gt;An example of this type of imperfection are date/time representations.  We live in our own &lt;em&gt;locus&lt;/em&gt; (which is like a personal &lt;em&gt;locale&lt;/em&gt;) and take for granted things we use or do in our locus from day-to-day, like Date/Time representations.  Local time has been working for each of us for all our lives, we take that for granted and use it in a representation without thinking.&lt;/p&gt;
&lt;p&gt;There are many things that make this problematic and error-prone.  I won't get into detail what  &lt;em&gt;all of those&lt;/em&gt; may be (a blog isn't the place for a tome like that).  The &lt;em&gt;fix&lt;/em&gt; is, of course, to use a &lt;em&gt;different representation&lt;/em&gt;. Implementing that fix and supporting existing representations of complex data means we need to be able to tell different representations of the same data from one another.&lt;/p&gt;
&lt;p&gt;This allows us to know how to translate each representation to the same in-memory structure when we (i.e. our code) encounter these representations; reinforcing that &lt;em&gt;representations&lt;/em&gt; differ from the &lt;em&gt;conceptual&lt;/em&gt; resource &lt;em&gt;and&lt;/em&gt; from the &lt;em&gt;implementation&lt;/em&gt; translation of the representation&lt;/p&gt;
&lt;p&gt;We need the ability to translate &lt;em&gt;multiple representations&lt;/em&gt; because there will be instances of differing representations &lt;em&gt;in the wild&lt;/em&gt; at a time.&lt;/p&gt;
&lt;h3 id="support-multiple-active-representation-versions"&gt;Support Multiple &lt;em&gt;Active&lt;/em&gt; Representation Versions&lt;/h3&gt;
&lt;p&gt;Increasingly we work in asynchronous environments where communication of data is off-loaded to asynchronous communication technology (like queues, topics, and even threads).  And with the drive to 100% availability this means that we perform software updates &lt;em&gt;in situ&lt;/em&gt; or without taking our systems completely off-line (or unavailable).  e.g. &lt;em&gt;indirect&lt;/em&gt; communication through a queue makes communication of the message independent of the processes. Until it reaches and is consumed by the destination, the message can be in a queue with neither process executing. This requires components to support &lt;strong&gt;at least&lt;/strong&gt; two versions of a representation &lt;em&gt;at the same time&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="attributes-of-rest"&gt;Attributes of REST&lt;/h2&gt;
&lt;p&gt;Since we're in the context of &lt;strong&gt;Re&lt;/strong&gt;presentational &lt;strong&gt;S&lt;/strong&gt;tate &lt;strong&gt;T&lt;/strong&gt;ransfer where resource &lt;em&gt;representation&lt;/em&gt; is front-and-center as well as &lt;em&gt;state&lt;/em&gt; of that resource, the following is a review of main features of RESTful services:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;REST is not a distributed object style &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_3_1"&gt;3&lt;/a&gt; &lt;!--(5.2.1-1)--&gt;&lt;/li&gt;
&lt;li&gt;A resource identifier (URI/URN) is a reference to a particular conceptual resource, not to a particular representation of it. &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;1&lt;/a&gt; &lt;!--(5.2.1.1-4)--&gt;&lt;/li&gt;
&lt;li&gt;A representation of a resource is transfered between REST components. &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;1&lt;/a&gt; &lt;!--(5.2.1.1-4)--&gt;&lt;/li&gt;
&lt;li&gt;A resource maps to a set of entities that varies over time, not just the representation at the moment &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;2&lt;/a&gt; &lt;!--(5.2.1.1-2)--&gt;&lt;/li&gt;
&lt;li&gt;The set of entities that are mapped to a resource are considered equal (by resource identifier and/or representation). &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;2&lt;/a&gt; &lt;!--(5.2.1.1-2)--&gt;&lt;/li&gt;
&lt;li&gt;The semantics of mapping a resource to an entity distinguishes one resource from another and is constant. &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;2&lt;/a&gt; &lt;!--(5.2.1.1-2)--&gt;&lt;/li&gt;
&lt;li&gt;Representations are late-bound and based on characteristics of the request. &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;2&lt;/a&gt; &lt;!--(5.2.1.1-4)--&gt;&lt;/li&gt;
&lt;li&gt;An identifier may exist without, or before, any realized representations. &lt;a href="https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1"&gt;2&lt;/a&gt; &lt;!--(5.2.1.1-2)--&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="restful-versioning-options"&gt;&lt;em&gt;RESTful&lt;/em&gt; Versioning Options&lt;/h2&gt;
&lt;p&gt;A quick review of objectives, for any given resource representation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;we need to differentiate change independently from unrelated representations&lt;/li&gt;
&lt;li&gt;we need to differentiate different changes to related representations at the same time&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are really only two fundamental options for &lt;em&gt;API Versioning&lt;/em&gt; (I didn't use &lt;em&gt;RESTful Versioning&lt;/em&gt; for reasons I hope will become clear):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Version moniker in the URI/URN, or&lt;/li&gt;
&lt;li&gt;Version moniker in the headers (or media-type)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uriurn"&gt;URI/URN&lt;/h3&gt;
&lt;p&gt;In REST, a URL/URI &lt;strong&gt;only&lt;/strong&gt; identifies a resource, it is not a content-type identifier.  One reason for this is &lt;em&gt;Content Negotiation&lt;/em&gt;.  Content negotiation details that in the &lt;strong&gt;request for any particular resource&lt;/strong&gt;, the &lt;em&gt;representation&lt;/em&gt; of the resource (the response) can be negotiated through headers and responses.  That negotiation occurs through the single URL/URI.&lt;/p&gt;
&lt;p&gt;I.e. the response format does not need to be consistent per URL/URI. &lt;a href="https://tools.ietf.org/html/rfc7231#section-3.4"&gt;4&lt;/a&gt; If it's not clear, supporting multiple representations means there can be &lt;em&gt;many&lt;/em&gt; response formats for any single URI/URN.  Since we've already shown that each representation is independent of other, &lt;strong&gt;multiple versions need to be represented per URL&lt;/strong&gt;. Making something like &lt;code&gt;example.com/picture/v2&lt;/code&gt; for the SVG format meaningless. Therefore URI/URN versioning doesn't support some fundamental REST features.&lt;/p&gt;
&lt;h3 id="media-types-headers"&gt;Media Types (Headers)&lt;/h3&gt;
&lt;p&gt;Media types are monikers for a particular re presentation.  XML and Json or JPEG and PNG are examples of particular representations of the same resource.  But media types are more complex than that.
Media types can consist of a registered type (&lt;code&gt;application&lt;/code&gt;, &lt;code&gt;audio&lt;/code&gt;, &lt;code&gt;example&lt;/code&gt;, &lt;code&gt;font&lt;/code&gt;, &lt;code&gt;image&lt;/code&gt;, &lt;code&gt;message&lt;/code&gt;, &lt;code&gt;model&lt;/code&gt;, &lt;code&gt;multipart&lt;/code&gt;, &lt;code&gt;text&lt;/code&gt;, and &lt;code&gt;video&lt;/code&gt;), a subtype (the registered format in the standards tree, or a dot-delimited subtype tree), a suffix (prefixed with &lt;code&gt;+&lt;/code&gt;), and optional parameters (key/optional-value pairs prefixed with &lt;code&gt;;&lt;/code&gt;). Suffixes can be used to specify the underlying &lt;em&gt;structure&lt;/em&gt; of a type/subtype, e.g. JSON and XML.  Formats like SVG can be either textual or binary, so although being a image and SVG, simply specifying &lt;code&gt;image/svg&lt;/code&gt; is not enough to cover both of those structures. The media type for the XML format of SVG ends up being &lt;code&gt;image/svg+xml&lt;/code&gt;.  Application-specific types use the &lt;code&gt;application&lt;/code&gt; type and a subtype in the vendor tree (&lt;code&gt;vnd&lt;/code&gt;).  If a custom application format for a &lt;em&gt;person&lt;/em&gt; resource that uses XML format would have a media type of &lt;code&gt;application/vnd.person+xml&lt;/code&gt;.  If the service also supports JSON it would have another media type &lt;code&gt;application/vnd.person+json&lt;/code&gt;. &lt;code&gt;charset&lt;/code&gt; is a reserved parameter, other parameters have unique meaning defined within the type/subtype.  for example &lt;code&gt;text/html; charset=UTF-8&lt;/code&gt; and &lt;code&gt;application/vnd.person+json; version=2.0.0&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The take away is that &lt;strong&gt;media-types are independent from the endpoint&lt;/strong&gt;.&lt;/p&gt;
&lt;h1 id="wrapping-up"&gt;Wrapping Up&lt;/h1&gt;
&lt;p&gt;It may make sense to think that the resource is changing, but in reality it is the representation that changes.  The resource is abstract, like &lt;em&gt;client&lt;/em&gt;.  Changing Birth Date from local to UTC doesn't change the fact that the &lt;strong&gt;resource is still a &lt;em&gt;client&lt;/em&gt;&lt;/strong&gt;.  If the resource fundamentally changes, that's when you change the URL/URI.  But not with a version identifier, but a new &lt;em&gt;resource&lt;/em&gt;.  If something previously considered a &amp;quot;client&amp;quot; changes so is conceptually no longer a &amp;quot;client&amp;quot;, then a new URI/URN should be used (like &amp;quot;client&amp;quot; to &amp;quot;lead&amp;quot;).  &lt;em&gt;We wouldn't have different versions of clients, merely different representations of client information&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id="tldr"&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;A URI/URN is a reference to the single conceptual resource and not to a particular representation.  Since media types &lt;em&gt;are&lt;/em&gt; the data format of the representation and the same conceptual resource has representations that can change, &lt;strong&gt;media type must be used to specify different representations that a single URI/URNs supports&lt;/strong&gt;.&lt;/p&gt;
</content>
		<summary>&lt;p&gt;Versioning is not new.  Versioning seems to be one of those things that people find hard to do or difficult to fully understand, especially with services and APIs.  RESTful versioning seems to be in the realm of Tabs v Spaces, but I want to detail my related observations (mostly of other's writings, but with some added color).&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Service-Oriented-is-Declarative-Not-Imperative</id>
		<title>Service-Oriented is Declarative, not Imperative</title>
		<link href="http://blog.peterritchie.com/posts/Service-Oriented-is-Declarative-Not-Imperative" />
		<updated>2019-06-28T00:00:00Z</updated>
		<content>&lt;p&gt;In this post, I'd like to address a challenge that I've witnessed in the understanding of service-oriented and implementations of it.&lt;br /&gt;
The issue I've seen in the design approach of services and service-oriented systems.  Programmers and engineers can easily view each service as a function.  Services are perceived as being composed together within a set of functions commanding specific state changes to achieve one of a smaller set of final states.&lt;br /&gt;
This is really describing the totality of &lt;em&gt;how&lt;/em&gt; a system does what it does.  At some point, the &lt;em&gt;how&lt;/em&gt; must exist but in order to have a system that isn't one-off and can evolve by responding to change, we need the &lt;em&gt;how&lt;/em&gt; to be encapsulated from one another.&lt;br /&gt;
Composition of a system in this way is an &lt;em&gt;imperative&lt;/em&gt; model.  Ideal service-orientation works within a &lt;em&gt;declarative&lt;/em&gt; model.&lt;/p&gt;
&lt;p&gt;im·per·a·tive&lt;br /&gt;
   /əmˈperədiv/&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;uses statements that change a program's state.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;de·clar·a·tive&lt;br /&gt;
   /dəˈklerədiv/&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;denoting high-level programming languages which can be used to solve problems without requiring the programmer to specify an exact procedure to be followed&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In other words, declarative is declaring the outcomes required and imperative is supplying the commands to change state in order to achieve the outcome required.&lt;/p&gt;
&lt;p&gt;Both are useful and both have benefits.  They're merely different.  One isn't better than the other.  But, they don't work well together.  Supplying a command to something that understands outcomes or supplying outcomes to something that expects command&lt;/p&gt;
&lt;p&gt;Service-orientation involves many things but in the context, it involves the principles of abstraction and autonomy.  Something that is self-contained and is a black box to consumers, represents a repeatable activity with a specific outcome. &lt;sup&gt;&lt;a href="https://www.opengroup.org/soa/source-book/ontologyv2/index.htm"&gt;OG1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;This is different from what most programmers seem to understand, which is to provide an order list of commands or statements to change state.&lt;/p&gt;
&lt;p&gt;Patterns are a good example of this, and the iterator pattern is one of my favorites.  That pattern details that to traverse the elements of a container an iterator object should be used to start at an initial element and progress through the rest through the use of a &amp;quot;&lt;code&gt;next&lt;/code&gt;&amp;quot; method.  This allows any type of sequences, collections, etc. to be iterated over regardless of their implementation.  i.e. &lt;em&gt;give me &lt;em&gt;next&lt;/em&gt;, whatever &lt;em&gt;next&lt;/em&gt; means&lt;/em&gt;.  C# has this built into the language with iterators:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;foreach( var element in theContainer)
{
   Do.Something.With(element);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In other languages/scenarios, the type of the container needs to be known and the unique way to enumerate all elements.  Typically reserved for collection/sequence structures, an array example may look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;for(int i = 0; i &amp;lt; anArray.Length; ++i)
{
   var element = theContainer[i];
   Do.Something.With(element);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-vb"&gt;For i = 1 to aList.Count
   Dim element = theContainer.Item(i)
Next i
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Both of these blocks of code show &lt;em&gt;imperative&lt;/em&gt; commands: &lt;em&gt;get array element&lt;/em&gt; i or &lt;em&gt;get list element&lt;/em&gt; i.&lt;/p&gt;
&lt;p&gt;With C# and the iterator syntax, it's a better description to say &lt;em&gt;give me the outcome of each iteration of a container&lt;/em&gt;.  What the container does to iterate is encapsulated, the container is a black box to the caller.  We can use it the same if that container implementation used an array, a list, or just had hard-coded values.&lt;/p&gt;
&lt;p&gt;Services in Service-Orientation should take this form.  A service is a location where an outcome can be retrieved, usually with parameters.  Thinking in this way allows us to think of the outcomes we want to work with, rather than the details of how those outcomes are produced.  I allow us to (and is recommended) to think about things in our problem domain (or higher-level abstractions).  If we're thinking about a conference, we can think of a session as a container of registered attendees.  I can then model that I want to perform an activity with the information from each registered attendee before I implement something and decide &lt;em&gt;how&lt;/em&gt; that will be implemented.&lt;/p&gt;
&lt;p&gt;In a service, we should not have a contract that details &lt;em&gt;how&lt;/em&gt; an activity should be performed. A service contract should only detail the outcome and what parameters are required to get that outcome.&lt;/p&gt;
&lt;p&gt;Almost all design patterns (that aren't structural patterns) effectively do this: to abstract away implementation details in favor of declaring the outcome desired.  &amp;quot;Declarative&amp;quot; can also be considered &amp;quot;composable&amp;quot;: you're declaring how to compose things rather than the flow of logic.  The messaging library I published, you can effectively declare a producer, a consumer, and a channel/pipe between them.  Once composed like that, the type of channel/pipe used hides how the messages move between the producer and the consumer (in-memory, queue, HTTP endpoint, etc.).  You don't have imperatively create a queue (or a topic, etc) and imperatively connect the consumer and producer to the queue.&lt;/p&gt;
&lt;p&gt;I realize this is very subtle and, in particular, the iterator example. And maybe some advice on naming may help to bring it over the line. What also makes these concepts complex is that they're not digital; i.e. nothing is entirely declarative or entirely imperative, there are degrees of declartiveness/imperativeness.&lt;/p&gt;
&lt;p&gt;Service names should generally be nouns (e.g. the name of the &amp;quot;outcome&amp;quot; of the activity).  REST describes these as resources, which should also be nouns.  Verbs and a dead giveaway that something is imperative (if that wasn't obvious by the use of &lt;em&gt;imperative&lt;/em&gt; :) ).  Inputs in contracts should not contain verbs as well, consider the input/output as resources.&lt;/p&gt;
&lt;p&gt;Additionally, this doesn't mean everything using the outcomes of declarative statements must be declarative.  You can certainly program a set of statements to change state based on what that outcome was.&lt;/p&gt;
&lt;h3 id="traits-and-smells"&gt;Traits and Smells&lt;/h3&gt;
&lt;p&gt;One of the traits of services that are not imperative is that they can be viewed as stateless.  If the need arises to store per-session state or state that shouldn't be available to other consumers of the service, that's a smell to tell you that you're probably more imperative than declarative.  The solution to this is to ensure anything required for the activity to be performed should be supplied in the input.  REST services facilitate this through HATEOS.  There was &lt;em&gt;state&lt;/em&gt; when an activity was requested, and it should be passed back in one or more hyperlinks for stateless services.  e.g. The current total number of resources at an endpoint at that point in time.  You may be paging through resources a page at a time and something could change between requests.  To avoid problems with that the state is effectively &lt;em&gt;stored&lt;/em&gt; in the response via links.  At the time of a request, a service may have 20 resources, if paging 10 at a time the &amp;quot;next&amp;quot; page for page one would be 2. If something changed before page 2 was retrieved, the response for page 2 may include page 3 for &amp;quot;next&amp;quot;.&lt;/p&gt;
&lt;p&gt;Next time, I'll talk about how &amp;quot;declarative&amp;quot; doesn't mean always up front.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.opengroup.org/soa/source-book/ontologyv2/index.htm"&gt;Service-Oriented Architecture Ontology Version 2.0 - The Open Group&lt;/a&gt;&lt;/p&gt;
</content>
		<summary>&lt;p&gt;In this post, I'd like to address a challenge that I've witnessed in the understanding of service-oriented and implementations of it.&lt;br&gt;
The issue I've seen in the design approach of services and service-oriented systems.  Programmers and engineers can easily view each service as a function.  Services are perceived as being composed together within a set of functions commanding specific state changes to achieve one of a smaller set of final states.&lt;br&gt;
This is really describing the totality of &lt;em&gt;how&lt;/em&gt; a system does what it does.  At some point, the &lt;em&gt;how&lt;/em&gt; must exist but in order to have a system that isn't one-off and can evolve by responding to change, we need the &lt;em&gt;how&lt;/em&gt; to be encapsulated from one another.&lt;br&gt;
Composition of a system in this way is an &lt;em&gt;imperative&lt;/em&gt; model.  Ideal service-orientation works within a &lt;em&gt;declarative&lt;/em&gt; model.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Thoughts-Web-Services--REST-APIs--and-Message-Structure</id>
		<title>Thoughts on Web Services, REST APIs, and Message Structure</title>
		<link href="http://blog.peterritchie.com/posts/Thoughts-Web-Services--REST-APIs--and-Message-Structure" />
		<updated>2019-04-09T00:00:00Z</updated>
		<content>&lt;h2 id="part-1-http"&gt;Part 1: HTTP&lt;/h2&gt;
&lt;p&gt;Love it or hate it, HTTP is ubiquitous.  It's been around for thirty years.
It has evolved alot in those thirty years.  One critical way it has evolved is
to support flexibility. Despite the huge benefits of that flexibility it can
and has lead people away from recommended and expected usage and patterns.&lt;/p&gt;
&lt;p&gt;&amp;quot;No big deal&amp;quot;, some say, but being lead away from recommended
usage leads to re-discovery and re-invention and an evolutionary way of
working (i.e. it's never right the first time).  This evolutionary process
is a constraining process, each step must be based on the last and all that
came before it.  That's great when you do have to invent something that never
existed; but when a solution already exists, this process needlessly
constrains progress sometimes to the point of missing the actual
recommendation or expectation.&lt;/p&gt;
&lt;p&gt;The flexibility of HTTP really means that people have to have a deep or broad
knowledge of it to use it properly.  Take the &lt;code&gt;Accept&lt;/code&gt; request header and
media types. It allows a requestor to limit and rank the possible content
format. We typically see this with at least XML and JSON nowadays.  To be
clear this means Web APIs can have different formats of responses. The
Content-Type header field means the inverse, that an API can accept multiple
request content formats.  As flexible as this is, different content formats
have at least some lack of parity of features.  As an example, XML has rich
syntax that includes things like full featured consistent schema definitions.
JSON is working towards things like that, but this is an example where the
two have different semantic structure.  There are things that can be done to
compensate, but at the end of the day neither was designed to work exactly like
the other (that's kinda the point, isn't it?)  This is just one example where
there's possibility of mismatch, mismatch in how two content formats can
represent the same thing.&lt;/p&gt;
&lt;p&gt;You may be thinking, &lt;em&gt;where am I going this with&lt;/em&gt;?  Thanks for the segue. What
this means is there will be times when you &lt;em&gt;change the structure or schema&lt;/em&gt; of
content (request or response) &lt;strong&gt;because it's one type OR the other&lt;/strong&gt;.  Which
leads me back towards media types.  If the schema of a JSON response
changes but the XML doesn't, what does &lt;em&gt;versioning&lt;/em&gt; of APIs mean?  Well, it
means that because there are different formats of content is independently
changing schemas &lt;strong&gt;you cannot reliably the version an API by URI&lt;/strong&gt;.  You can't even use a general
header field that applies to all content because a change to one could be
breaking but unnecessary or non-breaking in the other.  Making versioning
problematic at best.  This means you really &lt;strong&gt;must use media type as the
versioning mechanism&lt;/strong&gt;. (&amp;quot;MTATEOV&amp;quot;: Media Type As The Engine of
Versionability?)&lt;/p&gt;
&lt;p&gt;But, if you've ignored media types and effectively ignored schemas and cause
breaking changes because it just works and breaking changes have been
tolerable.  Of course, being in this situation and let the flexibility
herd you into this corner.  But, it really is fairly easy also ends up
solving these issues as well as open up some opportunities like Web Linking to
content type and version! Let's have a look at the standard format of the media type.&lt;/p&gt;
&lt;p&gt;Media types consist of a &lt;em&gt;type&lt;/em&gt; and a &lt;em&gt;subtype&lt;/em&gt;, separated by a forward slash.&lt;br /&gt;
For example &amp;quot;application/xml&amp;quot;, &amp;quot;application/json&amp;quot;.  The subtype is further
structured in a tree that provides many options.  There are standards subtypes
that are fixed or *standard&amp;quot; like &amp;quot;text/html&amp;quot; and &amp;quot;image/png&amp;quot; which specify a
standard format.  The standards subtypes typically fall under types like
&amp;quot;text&amp;quot;, &amp;quot;image&amp;quot;, etc.&lt;/p&gt;
&lt;p&gt;There can be application-specific subtypes and those fall under the
&amp;quot;application&amp;quot; type.  There is a bit of inconsistency in media types, like
JSON is &amp;quot;application/json&amp;quot; and XML is &amp;quot;text/xml&amp;quot; despite the two content
formats having standard structure and semantics.  But, I'll focus on
application-specific structures because you should only need to version
application-specific structures.&lt;/p&gt;
&lt;p&gt;Despite application-specific, the application-specific parts can be built off
of those standard content structures like XML and JSON to create a custom
subset schema (so to speak).  Media type standard supports that including a
suffix and parameters to the subtype.  The subtype format is essentially
&lt;code&gt;subtype[&amp;quot;+&amp;quot; suffix] [*&amp;quot;;&amp;quot; parameter]&lt;/code&gt; or &amp;quot;subtype&amp;quot; followed by an optional
suffix separated by &amp;quot;+&amp;quot; followed by one or more parameters separated by &amp;quot;;&amp;quot;.&lt;br /&gt;
And each parameter may have an optional value separated by &amp;quot;=&amp;quot;.
So, I could specify that I have HTML text encoding as UTF-8 as
&amp;quot;text/html; charset=UTF-8&amp;quot; or I could specific an application-specific format
(like &amp;quot;gibberish&amp;quot;) that is based on XML like this &amp;quot;application/gibberish+xml&amp;quot;.&lt;/p&gt;
&lt;p&gt;In order to avoid name clashes with other vendors, these media types are
expected to be in the Vendor Tree where standards types fall under the root or
Standards Tree.  Trees are specified with a prefix to the subtype, making
the standard structure of a subtype like this
&lt;code&gt;[tree &amp;quot;.&amp;quot;] subtype[&amp;quot;+&amp;quot; suffix] [*&amp;quot;;&amp;quot; parameter]&lt;/code&gt;.  &lt;em&gt;tree&lt;/em&gt; as the
structure of &lt;code&gt;tree *[&amp;quot;.&amp;quot; subtree]&lt;/code&gt; meaning there can be many trees separated
by &amp;quot;.&amp;quot;.  The standard details that the Vendor Tree starts with the &amp;quot;vnd.&amp;quot;
prefix.  So, our custom type should really have the form
&amp;quot;application/vnd.pri.gibberish+xml&amp;quot;, where &amp;quot;pri&amp;quot; is a vendor-specific name or
identifier.  Or if JSON format is required: &amp;quot;application/vnd.pri.gibberish+xml&amp;quot;.&lt;/p&gt;
&lt;p&gt;Now that we know about custom, vendor application-specific type identifiers,
on to dealing with changes to that content format that may introduce breaking
changes, or &lt;em&gt;versioning&lt;/em&gt;.  Since we're dealing with vendor and application-
specific identifiers within &lt;em&gt;subtype&lt;/em&gt; we deviate into an area not covered
specifically by a standard.  And you're basically free to do anything you want
to specify the version, some have a format like
&amp;quot;application/vnd.pri.gibberish.v2+xml&amp;quot;.  Some use a subtype parameter like
&amp;quot;application/vnd.pri.gibberish+xml;v=2&amp;quot; or
&amp;quot;application/vnd.pri.gibberish+xml;version=2&amp;quot;.  Since what lead us on
this particular journey was the problem of diverging versions between
underlying structures, the parameter route makes more sense because the
version really applies, in that case, to the content with an underlying
structure.  And being a parameter after the prefix, it's less like a version
of the subtype. e.g. &amp;quot;application/vnd.pri.gibberish.v2+xml&amp;quot; could be
interpreted as gibberish version 2 with an underlying XML structure.  But
&amp;quot;application/vnd.pri.gibberish+xml;v=2&amp;quot; is easier to interpret as
gibberish+xml version 2.&lt;/p&gt;
&lt;p&gt;Side note: In the versions I've shown here I've not used a minor version
(like 2.1).  I did that on purpose based on SEMVER that stipulates major
version number increment to signify breaking changes.  Non-breaking changes
in content is achieved with optional values, so client requestors that
don't know the new optional values won't use them and thus minor version
doesn't matter.  Also, if new optional values appear in a response, the
requester shouldn't care either.  You can structure your schema to make such
that a requestor need to care about it, but that is a breaking change and a
major version increment, not a minor version increment.&lt;!-- 2019, April--&gt;&lt;/p&gt;
</content>
		<summary>&lt;p&gt;Love it or hate it, HTTP is ubiquitous.  It's been around for thirty years.
It has evolved alot in those thirty years.  One critical way it has evolved is
to support flexibility. Despite the huge benefits of that flexibility it can
and has lead people away from recommended and expected usage and patterns.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Domain-Oriented-Observability-The-Decorative-Way</id>
		<title>Domain-Oriented Observability: The Decorative Way</title>
		<link href="http://blog.peterritchie.com/posts/Domain-Oriented-Observability-The-Decorative-Way" />
		<updated>2019-04-02T00:00:00Z</updated>
		<content>&lt;p&gt;I read an interesting article by Pete Hodgson on Martin Fowler's blog/site titled &lt;a href="https://martinfowler.com/articles/domain-oriented-observability.html"&gt;Domain-Oriented Observability&lt;/a&gt;.  In this article, Pete suggests separating the responsibility of observability out of a domain class that might initially look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-java"&gt;  applyDiscountCode(discountCode){
    this.logger.log(&amp;quot;attempting to apply discount code: ${discountCode}&amp;quot;);

    let discount; 
    try {
      discount = this.discountService.lookupDiscount(discountCode);
    } catch (error) {
      this.logger.error(&amp;quot;discount lookup failed&amp;quot;,error);
      this.metrics.increment(
        &amp;quot;discount-lookup-failure&amp;quot;,
        {code:discountCode});
      return 0;
    }
    this.metrics.increment(
      &amp;quot;discount-lookup-success&amp;quot;,
      {code:discountCode});

    const amountDiscounted = discount.applyToCart(this);

    this.logger.log(&amp;quot;Discount applied, of amount: ${amountDiscounted}&amp;quot;);
    this.analytics.track(&amp;quot;Discount Code Applied&amp;quot;,{
      code:discount.code, 
      discount:discount.amount, 
      amountDiscounted:amountDiscounted
    });

    return amountDiscounted;
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...into something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-java"&gt;  applyDiscountCode(discountCode){
    this.instrumentation.applyingDiscountCode(discountCode);

    let discount; 
    try {
      discount = this.discountService.lookupDiscount(discountCode);
    } catch (error) {
      this.instrumentation.discountCodeLookupFailed(discountCode,error);
      return 0;
    }
    this.instrumentation.discountCodeLookupSucceeded(discountCode);

    const amountDiscounted = discount.applyToCart(this);
    this.instrumention.discountApplied(discount,amountDiscounted);/*sic*/
    return amountDiscounted;
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I applaud the effort to put the responsibility of observability of the applying discounts into a singly-responsible class.  But, the domain-oriented class is still burdened with the responsibility of observability even if it simply delegates to another class.  It's now &lt;em&gt;also&lt;/em&gt; responsible for knowing about another class/interface, and possibly responsible for instantiating it.&lt;/p&gt;
&lt;p&gt;In my mind, this &lt;em&gt;is&lt;/em&gt; better, but really just trades some responsibilities for others.  And if the shopping cart is composed and the instrumentation class abstracted by an interface this &lt;strong&gt;minimizes&lt;/strong&gt; those responsibilities,  but they're still &lt;em&gt;in&lt;/em&gt; the shopping cart.&lt;/p&gt;
&lt;p&gt;When working with team members, my recommendation is to choose composability over mixing responsibilities or concerns in cases like this.  You can do this through the use of the &lt;a href="https://en.wikipedia.org/wiki/Decorator_pattern"&gt;Decorator Pattern&lt;/a&gt;.  For example, if we create a decorating shopping cart that passes through to a production shopping cart, we can &amp;quot;inject&amp;quot; the observability into the use of that production shopping cart without having to clutter up the domain-oriented class (after all, the point was &lt;em&gt;cleaning up the mess&lt;/em&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;class InstrumentingShoppingCart : IShoppingCart
{
	private readonly IShoppingCart component;
	private readonly DiscountInstrumentation instrumentation;


	public InstrumentingShoppingCart(IShoppingCart component, DiscountInstrumentation instrumentation)
	{
		this.component = component;
		this.instrumentation = instrumentation;
	}

	public float applyDiscountCode(int discountCode)
	{
		this.instrumentation.applyingDiscountCode(discountCode);
		try
		{
			var discountAmount = component.applyDiscountCode(discountCode);
			this.instrumentation.discountCodeLookupSucceeded(discountCode);
			this.instrumentation.discountApplied(discountAmount);
			return discountAmount;
		}
		catch (Exception error)
		{
			this.instrumentation.discountCodeLookupFailed(discountCode, error);
			return 0;
		}
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An &lt;code&gt;InstrumentingShoppingCart&lt;/code&gt; instance can be used where any &lt;code&gt;IShoppingCart&lt;/code&gt; is used and can be composed in whatever fashion is necessary (IoC container, Composition Root, etc.).&lt;/p&gt;
&lt;p&gt;Now we get instrumentation, instrumentation as a responsibility is separated, &lt;em&gt;and&lt;/em&gt; the domain-oriented class is not messed up with other concerns and responsibilities.  For example, the original unincumbered method:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-Java"&gt;  applyDiscountCode(discountCode){

    let discount; 
    discount = this.discountService.lookupDiscount(discountCode);

    const amountDiscounted = discount.applyToCart(this);
    return amountDiscounted;
  }
&lt;/code&gt;&lt;/pre&gt;
</content>
		<summary>&lt;p&gt;I read an interesting article by Pete Hodgson on Martin Fowler's blog/site titled &lt;a href="https://martinfowler.com/articles/domain-oriented-observability.html"&gt;Domain-Oriented Observability&lt;/a&gt;.  In this article, Pete suggests separating the responsibility of observability out of a domain class that might initially look like this:&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Disabled-Browser-Copy-to-Clipboard--WTF</id>
		<title>Disabled Browser Copy-to-Clipboard: WTF?</title>
		<link href="http://blog.peterritchie.com/posts/Disabled-Browser-Copy-to-Clipboard--WTF" />
		<updated>2019-02-28T00:00:00Z</updated>
		<content>&lt;p&gt;Seriously, web sites that disable copy-to-clipboard?  What do they think they are protecting?  It's very annoying.&lt;/p&gt;
&lt;p document.oncopy="null;"&gt;The way they actually do that is to override the default &lt;code&gt;oncopy&lt;/code&gt; event handler. But, you know what?  With browsers (at least Chrome),
you can actually modify the document in real-time and remove that new handler.  Better yet, you can create a
bookmarklet on your bookmark bar and re-enable copy-to-clipboard any time you want.  Just drag the following
link to your browser bar and drop:
&lt;a href="javascript: (function () { document.oncopy = null;})();"&gt;javascript: (function () )();&lt;/a&gt;
That creates a button with all that javascript in the name; if you prefer a simpler,
icon-looking button, drag and drop this fist (fight the power) to accomplish the same thing
&lt;a href="javascript: (function () { document.oncopy = null;})();"&gt;✊&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now when you get one of those websites, click that bookmarklet and copy to clipboard All. You. Want.&lt;/p&gt;
&lt;p&gt;If you have any similar tips and tricks, please share with a comment!&lt;/p&gt;
</content>
		<summary>&lt;p&gt;Seriously, web sites that disable copy-to-clipboard?  What do they think they are protecting?  It's very annoying.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/ASP.NET%20Core%20Configuration%20Recommended%20Practices</id>
		<title>ASP.NET Core Configuration Recommended Practices</title>
		<link href="http://blog.peterritchie.com/posts/ASP.NET%20Core%20Configuration%20Recommended%20Practices" />
		<updated>2018-09-24T00:00:00Z</updated>
		<content>&lt;p&gt;&lt;em&gt;ASP.NET Core&lt;/em&gt; and &lt;em&gt;ASP.NET Core Configuration&lt;/em&gt; build upon some fundamental and important principles to maintain its vision.  Having worked with some of those principles for years and more recently working with ASP.NET Core Configuration and guiding other team members, I've come up with a recommended practices view of the principles through the eyes of ASP.NET implementation examples.  It has helped me to have a deconstructed view of ASP.NET Core (and many other things) with those principles in mind, I hope it helps you too.&lt;/p&gt;
&lt;p&gt;Some of the principles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Separation of Concerns&lt;/li&gt;
&lt;li&gt;Loose coupling&lt;/li&gt;
&lt;li&gt;Interface Segregation&lt;/li&gt;
&lt;li&gt;Single Responsibility&lt;/li&gt;
&lt;li&gt;Dependency Inversion&lt;/li&gt;
&lt;li&gt;Don't Repeat Yourself&lt;/li&gt;
&lt;li&gt;Explicit Dependencies&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="compartmentalization-sections-are-your-friends"&gt;1. Compartmentalization: Sections Are Your Friends&lt;/h2&gt;
&lt;h3 id="do-separate-independent-configuration-groups-by-sections"&gt;&lt;span id=1-1&gt;1.1&lt;/span&gt; &lt;strong&gt;Do&lt;/strong&gt; separate independent configuration groups by sections&lt;/h3&gt;
&lt;p&gt;One big chunk of configuration (essentially a big chunk of key-value pairs) as the configuration for all the individual components of your application has maintainability issues.  It Works™, but that means that every component that is individually configurable within your application is more tightly-coupled to all the others because there is no explicit abstraction between their settings data.  Something more maintainable is to separate the component configurations from one another by a section in the configuration.  An appsettings.json example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-JSON"&gt;{
  &amp;quot;Logging&amp;quot; {
    &amp;quot;Debug&amp;quot;: {
      &amp;quot;LogLevel&amp;quot;: {
        &amp;quot;Default&amp;quot;: &amp;quot;Warning&amp;quot;
      }
    }
  }, 
  &amp;quot;ConnectionStrings&amp;quot;: {
    &amp;quot;BloggingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.NewDb;Trusted_Connection=True;&amp;quot;
  },}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...where the sections are &amp;quot;Logging&amp;quot; and &amp;quot;ConnectionStrings&amp;quot;, and subsections &amp;quot;Debug&amp;quot; and &amp;quot;LogLevel&amp;quot;.&lt;/p&gt;
&lt;p&gt;ASP.NET does a lot to allow you to be explicit and to support Dependency Inversion, and section separation of configuration will make that and the following recommendations easier.&lt;/p&gt;
&lt;h3 id="do-not-couple-all-your-classes-to-iconfiguration"&gt;&lt;span id=1-2&gt;1.2&lt;/span&gt; &lt;strong&gt;Do not&lt;/strong&gt; couple all your classes to &lt;code&gt;IConfiguration&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;In the same vein as &lt;a href="#1-1"&gt;1.1&lt;/a&gt;, using a single &lt;code&gt;IConfiguration&lt;/code&gt; instance all over the place is the same as all your components being coupled to each others' configuration.  &lt;code&gt;IConfiguration&lt;/code&gt; &lt;em&gt;is&lt;/em&gt; loosely coupled,  but &lt;em&gt;maintain loose coupling at the class/component level too&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;See also &lt;a href="#Use_of_C#_built-in_types_in_constructor_parameters"&gt;Use of C# built-in types in constructor parameters&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="configuration-isnt-just-appsettings"&gt;2. Configuration Isn't Just &lt;code&gt;appsettings&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Out of the box, ASP.NET Supports appsettings.json, environment-specific appsettings.json, command-line arguments, environment variables, ini files, XML config files, in-memory data, and any custom source/provider you need.&lt;/p&gt;
&lt;p&gt;Viewing the application configuration as being manifested by appsettings JSON files is very limiting.  Worse case it becomes an expectation and the ability to change configuration depends on loading appsettings:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;	var builder = new ConfigurationBuilder()
		.SetBasePath(Directory.GetCurrentDirectory())
		.AddJsonFile(&amp;quot;appsettings.json&amp;quot;);

	Configuration = builder.Build();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As we'll see, ASP.NET configuration is very powerful and flexible, &lt;em&gt;think of ASP.NET Configuration independently of appsettings and that appsettings is just one part of it&lt;/em&gt;.&lt;/p&gt;
&lt;h3 id="do-think-of-asp.net-configuration-as-a-means-to-a-configuration-management-end"&gt;&lt;span id=2-1&gt;2.1&lt;/span&gt; &lt;strong&gt;Do&lt;/strong&gt; think of ASP.NET configuration as a means to a Configuration Management end&lt;/h3&gt;
&lt;p&gt;ASP.NET Configuration is powerful; powerful enough to be the application's pane of glass into Configuration Management.  ASP.NET Configuration provides a unified view of the independent variables that affect the success/outcome of application functionality. (think of the application as a function and configuration is the container of &amp;quot;inputs&amp;quot; that affect dependent variables to be observed or measured).&lt;/p&gt;
&lt;h3 id="do-not-couple-code-to-source-of-configuration-data"&gt;&lt;span id=2-2&gt;2.2&lt;/span&gt; &lt;strong&gt;Do not&lt;/strong&gt; couple code to source of configuration data&lt;/h3&gt;
&lt;p&gt;ASP.NET Core configuration is powerful and flexible, there is no need for controller, model, or domain classes to know anything about details like appsettings.json, environment variables, etc.  Let ASP.NET Configuration handle all of that heavy lifting so that controller, model, and domain depend only upon abstractions, including these &lt;em&gt;configuration abstractions&lt;/em&gt;.&lt;/p&gt;
&lt;h3 id="consider-using-the-options-pattern-for-grouping-settings"&gt;&lt;span id=2-3&gt;2.3&lt;/span&gt; &lt;strong&gt;Consider&lt;/strong&gt; using the Options Pattern for grouping settings&lt;/h3&gt;
&lt;p&gt;One of the goals of a Dependency Injection container is to act as a registry--an opt-in mechanism to resolve instances from types and to relieve construction logic from dependents.  Settings, options, and configuration are genuinely unique; they're not object-oriented but data containers or shapes.  As data containers there's an expectation of &amp;quot;default&amp;quot; values and &amp;quot;missing&amp;quot; values and often &amp;quot;missing&amp;quot; means falling back to &amp;quot;defaults&amp;quot;.  But, in an opt-in registry situation, what does that mean?&lt;/p&gt;
&lt;p&gt;That's what &lt;code&gt;IOptions&lt;/code&gt; does for you, you don't have to know that &amp;quot;defaults&amp;quot; need to be registered or to force the responsibility of knowing what &amp;quot;defaults' mean on a boostrapper.  Using &lt;code&gt;IOptions&amp;lt;T&amp;gt;&lt;/code&gt; in your constructors means you don't have to worry about that.  Using &lt;code&gt;IOptions&amp;lt;T&amp;gt;&lt;/code&gt; is an indirect &lt;em&gt;opt-in of &lt;code&gt;T&lt;/code&gt;&lt;/em&gt;, the container will go ahead and instantiate it if one hasn't already been registered with specific values (it doesn't do that with any other types).  This means the constructor of the options class takes on the responsibility of what &amp;quot;defaults&amp;quot; mean--which is more maintainable.&lt;/p&gt;
&lt;p&gt;The Pattern is using &lt;code&gt;IOptions&amp;lt;T&amp;gt;&lt;/code&gt; in constructors to inject settings via an instance of &lt;code&gt;T&lt;/code&gt;, and that any configuration is loaded via &lt;code&gt;services.Configure&amp;lt;TOptions&amp;gt;(Configuration.GetSection(&amp;quot;TOptions&amp;quot;))&lt;/code&gt;.  But, a key part of that pattern are &lt;em&gt;the defaults&lt;/em&gt;. So, the shapes you use as &lt;code&gt;TOptions&lt;/code&gt; types should &lt;em&gt;set default values&lt;/em&gt;.  For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class MyOptions
{
	public MyOptions()
	{
		// Set default value.
		Option1 = &amp;quot;value1_from_ctor&amp;quot;;
	}

	public string Option1 { get; set; }
	public int Option2 { get; set; } = 5;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For more detail, see &lt;a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-2.1"&gt;Options Pattern&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="do-understand-configuration-source-default-precedence"&gt;&lt;span id=2-4&gt;2.4&lt;/span&gt; &lt;strong&gt;Do&lt;/strong&gt; understand configuration source default precedence&lt;/h3&gt;
&lt;p&gt;When using the ASP.NET Core &lt;code&gt;WebHostBuilder&lt;/code&gt;, the order of precedence of configuration sources is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;appsettings.json&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;appsettings.&lt;em&gt;env&lt;/em&gt;.json&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;[&lt;span title="Developer"&gt;User&lt;/span&gt; Secrets]&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Environment Variables&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Command Line&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To be specific, the order of precedence mirrors the order the providers are added to the configuration builder.  The above is really just how &lt;code&gt;WebHostBuilder&lt;/code&gt; implements them.&lt;/p&gt;
&lt;p&gt;You can override all that if you want, but don't cause yourself that pain: accept the defaults of &lt;code&gt;WebHostBuilder&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="do-know-how-to-override-settings"&gt;&lt;span id=2-5&gt;2.5&lt;/span&gt; &lt;strong&gt;Do&lt;/strong&gt; know how to override settings&lt;/h3&gt;
&lt;p&gt;Configuration supports a variety of providers.  Some inherently support structured, complex data; some don't.  JSON is the quintessential example of structured configuration for ASP.NET:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;{
  &amp;quot;Logging&amp;quot;: {
    &amp;quot;LogLevel&amp;quot;: {
      &amp;quot;Default&amp;quot;: &amp;quot;Debug&amp;quot;,
      &amp;quot;System&amp;quot;: &amp;quot;Information&amp;quot;,
      &amp;quot;Microsoft&amp;quot;: &amp;quot;Information&amp;quot;
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And command-line arguments are the quintessential example of &lt;em&gt;unstructured&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MyApplication.exe --Verbosity true&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;But, configuration providers translate whatever structure they support into the &lt;em&gt;flat&lt;/em&gt; structure that ASP.NET Core configuration supports.  To do that, providers simply use a colon &lt;code&gt;:&lt;/code&gt; as hierarchy level separators.  So, the &lt;code&gt;Default&lt;/code&gt; key name from the above JSON has a fully-qualified configuration key name of &lt;code&gt;Logging:LogLevel:Default&lt;/code&gt;.  Which means you can override what is in appsettings with key/value pair from anyware, e.g. via the command line:
&lt;code&gt;MyApplication --Logging:LogLevel:Default Error&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And to override appsettings values with environment variable values, use a double underscore &lt;code&gt;__&lt;/code&gt; as a hierarchy delimiter instead of a colon hierarchy level delimiter:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SET Logging__LogLevel__Default=Error&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="asp.net-core-bootstrapping-is-all-about-the-builder-pattern-and-the-dependency-injection-technique"&gt;3. ASP.NET Core bootstrapping is all about the Builder Pattern and the Dependency Injection technique&lt;/h2&gt;
&lt;h3 id="do-understand-the-bounds-of-builders-and-utilize-them-correctly"&gt;&lt;span id=3.1&gt;3.1&lt;/span&gt; &lt;strong&gt;Do&lt;/strong&gt; understand the bounds of builders and utilize them correctly&lt;/h3&gt;
&lt;p&gt;To maintain the level of loose coupling that has lead to ASP.NET Core advancements, builders are essential.  Builders provide the ability to describe (declaratively) what is needed to compose things from dependencies, and avoid coding how (imperatively) to compose things &lt;em&gt;with&lt;/em&gt; dependencies.&lt;/p&gt;
&lt;p&gt;The flow of things is often useful when getting into advanced situations:&lt;/p&gt;
&lt;p&gt;Building the web host starts in Program.Main, building configuration spawns from building the web host, configuration is built before spawning Startup from building the web host, Startup is created before configuring services, configuring services completes before application builder, application builder completes before controllers are instantiated, some services may be instantiated after the application builder completes.&lt;/p&gt;
&lt;p&gt;That flow results in some expectations:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use the application builder to amend what a built application means.&lt;/li&gt;
&lt;li&gt;Don't expect to use services with &lt;code&gt;IConfigurationBuilder&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Use the configuration builder only to describe what building configuration means.&lt;/li&gt;
&lt;li&gt;Don't expect to do any configuration building when services start configuring.&lt;/li&gt;
&lt;li&gt;Use the services collection to register instances or types for dependencies instead of within the dependencies.&lt;/li&gt;
&lt;li&gt;Add dependent service information after adding the information for services they depend upon.&lt;/li&gt;
&lt;li&gt;If service instances are required before service configuration is complete, instantiate them in &lt;code&gt;ConfigureServices&lt;/code&gt; and use them before adding them to the services collection.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dependency inversion means that the order of operations start is opposite to the order of dependency:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;host→configuration→services→application&lt;/li&gt;
&lt;li&gt;application⇢services⇢configuration⇢host&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="avoid-constructing-any-instance-that-arent-used-through-services-collection"&gt;&lt;span id=3.2&gt;3.2&lt;/span&gt; &lt;strong&gt;Avoid&lt;/strong&gt; constructing any instance that aren't used through Services Collection&lt;/h3&gt;
&lt;p&gt;Needing to construct an instance before you've added all dependent services to the services collection is an indication of a potential dependency problem (not inverted, or circular).  So, avoid doing that without a specific reason (besides to Get It To Work™).&lt;/p&gt;
&lt;h1 id="metrics"&gt;Metrics&lt;/h1&gt;
&lt;h2 id="smells"&gt;Smells&lt;/h2&gt;
&lt;p&gt;Some less-measurable things that you can watch for that will help recognize refactoring candidates...&lt;/p&gt;
&lt;h3 id="use-of-c-built-in-types-in-constructor-parameters"&gt;Use of C# built-in types in constructor parameters&lt;/h3&gt;
&lt;p&gt;The C# &lt;a href="http://bit.ly/CsharpPrimitives"&gt;built-in&lt;/a&gt; types are the building-blocks for all other complex types.  Parametric Polymorphism and Ad hoc Polymorphism are the language features that allow the compiler and runtimes to differentiate which thing to use while supporting looser coupling.  (e.g. Generics and Function Overloading).  Dependency Inversion depends heavily on Dependency Injection and Dependency Injection depends heavily on that type inference to achieve that level of loose coupling.&lt;/p&gt;
&lt;p&gt;So, the &lt;em&gt;re-usability of a type&lt;/em&gt; is at odds with how &lt;em&gt;reliably another type&lt;/em&gt; (dependent on that first type for instantiation input) &lt;em&gt;can be used with Dependency Injection&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;For example, I may have a controller that needs a URL, and that URL could be a string parameter:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class NaiveController
{
	public NaiveController(string oAuthUrl)
	{
		//...
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and I &lt;em&gt;could&lt;/em&gt; use the services collection to inject that URL when the controller is instantiated:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;services.AddSingleton(&amp;quot;http://api.example.com/fugassi&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...and the ASP.NET container can infer that when instantiating a &lt;code&gt;NaiveController&lt;/code&gt; instance.  &lt;strong&gt;But&lt;/strong&gt;, that means you can only have that &lt;em&gt;one&lt;/em&gt; &lt;code&gt;string&lt;/code&gt; object as a service.  If you had another controller that needed a URL, the container wouldn't be able to figure out which string instance to use (if it supported more than one, unnamed).&lt;/p&gt;
&lt;p&gt;So, when you see the use of built-in types, or very ubiquitous types as inputs to controllers and services, consider refactoring to the Options Pattern or refactoring to a Service.  i.e. it's not just that URL is stored in a built-in type, the &lt;code&gt;Uri&lt;/code&gt; type could have been used instead, and the problem would be the same.  Refactored to Options Pattern:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class NaiveController
{
	public NaiveController(IOptions&amp;lt;NaiveControllerOptions&amp;gt; options)
	{
		var url = options.Value.OAuthUrl;
		//...
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Refactoring to a service means that functionality is encapsulated within a service.  In the case of the URL example, rather than creating an options type to store that string value, the controller should actually be dependent on another service that would use that URL value but provide behavior.  Refactoring to a service example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class NaiveController
{
	public NaiveController(IOAuthProvider oAuthProvider)
	{
		//...
	}
}
//...
	services.AddSingleton&amp;lt;IOAuthProvider&amp;gt;(new TwitterOAuthProvider(Configuration.OAuthUrl/*...*/));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is an easy example to understand, but lack of testability of a controller the uses a URL directly might have reared its head before noticing this smell. ¯\_(ツ)_/¯&lt;/p&gt;
&lt;p&gt;See also Introduce Parameter Object refactoring.&lt;/p&gt;
&lt;h3 id="use-of-iconfiguration-outside-of-startup-or-bootstrap"&gt;Use of &lt;code&gt;IConfiguration&lt;/code&gt; outside of &lt;code&gt;Startup&lt;/code&gt; or bootstrap&lt;/h3&gt;
&lt;p&gt;See &lt;a href="#1-2"&gt;1.2&lt;/a&gt;.  Use of &lt;code&gt;IConfiguration&lt;/code&gt; outside of &lt;code&gt;Startup&lt;/code&gt; or bootstrap means you're coupling many classes to &lt;code&gt;IConfiguraiton&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id="references"&gt;References&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://msdn.microsoft.com/en-us/magazine/mt632279.aspx"&gt;MSDN Magazine - Essential .NET - Configuration in .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-2.1"&gt;Microsoft Docs - Options pattern in ASP.NET Core&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
		<summary>&lt;p&gt;&lt;em&gt;ASP.NET Core&lt;/em&gt; and &lt;em&gt;ASP.NET Core Configuration&lt;/em&gt; build upon some fundamental and important principles to maintain its vision.  Having worked with some of those principles for years and more recently working with ASP.NET Core Configuration and guiding other team members, I've come up with a recommended practices view of the principles through the eyes of ASP.NET implementation examples.  It has helped me to have a deconstructed view of ASP.NET Core (and many other things) with those principles in mind, I hope it helps you too.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Supporting%20Structured%20Dynamic%20Configuration%20in%20ASP.NET%20Core</id>
		<title>Supporting Structured Dynamic Configuration in ASP.NET Core appsettings</title>
		<link href="http://blog.peterritchie.com/posts/Supporting%20Structured%20Dynamic%20Configuration%20in%20ASP.NET%20Core" />
		<updated>2018-09-21T00:00:00Z</updated>
		<content>&lt;h2 id="configuration-in-asp.net-core-a-brief-retrospection"&gt;Configuration in ASP.NET Core, a Brief Retrospection&lt;/h2&gt;
&lt;p&gt;Let's look at a couple of isolated examples of ASP.NET Core configuration, options, and appsettings to set a scope:&lt;/p&gt;
&lt;p&gt;ASP.NET Core is very flexible and powerful with regard to configuration and options.  One of the features is the ability to bind configuration (textual information) to a concrete type and support strongly-typed configuration.  For example, with the following appsettings:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-JSON"&gt;{
  &amp;quot;option1&amp;quot;: &amp;quot;value1_from_json&amp;quot;,
  &amp;quot;option2&amp;quot;: -1,
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A class can be created to structurally contain that data:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class MyOptions
{
	public string Option1 { get; set; }
	public int Option2 { get; set; } = 5;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And in your startup, you can either directly bind the data to an instance of the class:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var myOptions = new MyOptions();
Configuration.Bind(myOptions);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or indirectly bind the data via the &lt;em&gt;Options Pattern&lt;/em&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;services.Configure&amp;lt;MyOptions&amp;gt;(Configuration);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...to be injected into other services that have a constructor parameter of type &lt;code&gt;IOptions&amp;lt;MyOptions&amp;gt;&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;	public ValuesController(IOptions&amp;lt;MyOptions&amp;gt; myOptions)
	{
		//...
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="what-is-dynamic-configuration"&gt;What is &lt;em&gt;Dynamic Configuration&lt;/em&gt;?&lt;/h2&gt;
&lt;p&gt;Dynamic configuration is really about how the configuration data is handled.  The structure of the configuration is the same, but with a looser &amp;quot;schema&amp;quot;.&lt;/p&gt;
&lt;p&gt;Given the following JSON:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;{
  &amp;quot;ConnectionStrings&amp;quot;:
  {
    &amp;quot;BloggingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.NewDb;Trusted_Connection=True;&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...and much like above, you &lt;em&gt;can&lt;/em&gt; bind it to classes like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class ConnectionStrings
{
	public string BloggingDatabase {get;set;}
}

public class MyConfiguration
{
	public ConnectionStrings ConnectionStrings {get;set;}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With familiar but specific binding code like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var myConfiguration = new MyConfiguration();
Configuration.Bind(myConfiguration)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;services.Configure&amp;lt;MyConfiguration&amp;gt;(Configuration);
// ...and use the type IOptions&amp;lt;MyConfiguration&amp;gt; in constructor
// parameters for the options to be injected.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For that &lt;code&gt;Bind&lt;/code&gt; or &lt;code&gt;Configure&lt;/code&gt; (which does the &lt;code&gt;Bind&lt;/code&gt; for you) to work, the &lt;code&gt;ConnectionStrngs&lt;/code&gt; class requires the &lt;code&gt;BloggingDatabase&lt;/code&gt; property so it can match the name in the config.&lt;/p&gt;
&lt;p&gt;The &amp;quot;dynamic&amp;quot; part is when you want to support user-supplied key names and/or variable quantities of key/value pairs. If a user added another connection string, we'd be unable to support it without a redeployment, for example another connection string in the config:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;{
  &amp;quot;ConnectionStrings&amp;quot;:
  {
    &amp;quot;BloggingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.NewDb;Trusted_Connection=True;&amp;quot;,
    &amp;quot;AuditingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.AuditDb;Trusted_Connection=True;&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We'd have to update our ConnectionStrings class to support the new connection string value.  You can imagine that connection strings are unique to each app, so there's no way to create one class to handle every scenario.&lt;/p&gt;
&lt;p&gt;But, in the end, ASP.NET Core configuration/options are really just a set of key/value pairs, you &lt;strong&gt;can support user-supplied names like this using a dictionary&lt;/strong&gt;.  For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;public class MyConfiguration
{
	public Dictionary&amp;lt;string, string&amp;gt; ConnectionStrings {get;set;}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And rather than &lt;code&gt;myConfiguration.ConnectionStrings.BloggingDatabase&lt;/code&gt; to access the value, it would be &lt;code&gt;myConfiguration.ConnectionStrings[&amp;quot;BloggingDatabase&amp;quot;]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Binding would be the same:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var myConfiguration = new MyConfiguration();
Configuration.Bind(myConfiguration)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;services.Configure&amp;lt;MyConfiguration&amp;gt;(Configuration);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This technique also supports the ability to more easily reference keys as values of other configuration keys.  Let's say that I want to have my connection strings in one place and configure other things to use those connection string (e.g. shared).  You might consider a JSON config that looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-json"&gt;{
  &amp;quot;ConnectionStrings&amp;quot;: {
    &amp;quot;BloggingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.NewDb;Trusted_Connection=True;&amp;quot;,
    &amp;quot;AuditingDatabase&amp;quot;: &amp;quot;Server=(localdb)\\mssqllocaldb;Database=EFGetStarted.ConsoleApp.AuditDb;Trusted_Connection=True;&amp;quot;
  },
  &amp;quot;Repositories&amp;quot;: {
    &amp;quot;BlogEntryController&amp;quot; : {
      &amp;quot;Type&amp;quot;: &amp;quot;Infrastructure.Persistence.SqlServer.SqlServerRepository, aipss, Version=1.7.1.0, Culture=neutral, PublicKeyToken=80e841a370b13835&amp;quot;,
      &amp;quot;Argument&amp;quot;: &amp;quot;BloggingDatabase&amp;quot;
    },
    &amp;quot;BlogEntryControllerAudit&amp;quot; : {
      &amp;quot;Type&amp;quot;: &amp;quot;Infrastructure.Persistence.SqlServer.SqlServerRepository, aipss, Version=1.7.1.0, Culture=neutral, PublicKeyToken=80e841a370b13835&amp;quot;,
      &amp;quot;Argument&amp;quot;: &amp;quot;AuditDatabase&amp;quot;
    },
    &amp;quot;AdminControllerAudit&amp;quot; : {
      &amp;quot;Type&amp;quot;: &amp;quot;Infrastructure.Persistence.SqlServer.SqlServerRepository, aipss, Version=1.7.1.0, Culture=neutral, PublicKeyToken=80e841a370b13835&amp;quot;,
      &amp;quot;Argument&amp;quot;: &amp;quot;AuditDatabase&amp;quot;
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id="references"&gt;References&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://msdn.microsoft.com/en-us/magazine/mt632279.aspx"&gt;MSDN Magazine - Essential .NET - Configuration in .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/options?view=aspnetcore-2.1"&gt;Microsoft Docs - Options pattern in ASP.NET Core&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
		<summary>&lt;p&gt;Let's look at a couple of isolated examples of ASP.NET Core configuration, options, and appsettings to set a scope:&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Bridge-Pattern</id>
		<title>Deeper Understanding of The Bridge Pattern</title>
		<link href="http://blog.peterritchie.com/posts/Bridge-Pattern" />
		<updated>2018-08-08T00:00:00Z</updated>
		<content>&lt;p&gt;One of the biggest roadblocks in creating software that stands the test of time is the trouble many people have separating concept from actuality.  To some degree this is a basic human trait.  Shopping for a new house for example, it's common for someone not to buy a house simply because of the colors of the walls despite the triviality of re-painting (or the fact you probably will regardless).  In software, it's common for the separation between abstractions and implementation details to end up bleeding across.  So, it's no surprise that some patterns (or patterns in general?) are hard to truly understand and commonly mis-implemented.  The &lt;a href="https://en.wikipedia.org/wiki/Bridge_pattern"&gt;Bridge Pattern&lt;/a&gt; is one of the prime examples, from my experience.&lt;/p&gt;
&lt;h2 id="the-bridge-pattern"&gt;The Bridge Pattern&lt;/h2&gt;
&lt;p&gt;A pattern where the one abstractions uses another abstraction for the two to be loosely coupled (and promote independent evolution of the implementations), it's no wonder I've witnessed misunderstanding.  That, and with diagramming of the pattern from the Gang of Four:&lt;/p&gt;
&lt;div&gt;
&lt;div style="position: relative; background-repeat: no-repeat; background-image: url(http://web.archive.org/web/2017071708651im_/https://www.dofactory.com/images/diagrams/net/bridge.gif);"&gt;
  &lt;span id="overlay" style="position: relative; top: -20px; left: -105px;"&gt;
    &lt;img src="/assets/yelllow%20highlighter%20rectangle%20thick.png" 
        style="opacity: 0.5; background-color: transparent;"/&gt;
  &lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;(...where the highlighted area is the &lt;a href="http://a.co/9ld8Er3"&gt;GoF&lt;/a&gt; pattern).  It's UML, how could that &lt;em&gt;not&lt;/em&gt; convey information effectively?  ;) I'm not a big fan of UML, although it has a place.  In this case, I think it falls short in helping people understand new concepts.  And I honestly think this diagram has contributed to the misunderstanding of Bridge.&lt;/p&gt;
&lt;p&gt;So &lt;em&gt;what does it mean to implement a bridge&lt;/em&gt;?  The name, fortunately, isn't far off: it is intended to act as a bridge between two independent things so those two things remain separate (independent and autonomous) and that the bridge is loosely coupled from the implementation details of what it's bridging.  Although easily confounded with &lt;a href="https://en.wikipedia.org/wiki/Adaptere_pattern"&gt;Adapter Pattern&lt;/a&gt;, Bridge is &lt;em&gt;different&lt;/em&gt;; or more than just adapting one thing to another. Avoiding UML, let's jump right into in a different way of diagramming Adapter's structure.&lt;/p&gt;
&lt;h2 id="but-first-adapter"&gt;But First, Adapter&lt;/h2&gt;
&lt;p&gt;&lt;img src="/assets/Adapter%20Pattern.png" class="img-fluid" alt="Adapter Pattern Diagram" /&gt;&lt;/p&gt;
&lt;p&gt;This diagramming technique uses some recognizable components, although maybe with some unconventional organization/style.  There is some sort of &lt;strong&gt;Client&lt;/strong&gt; that uses an &lt;strong&gt;Adapter&lt;/strong&gt; component.  That usage is via an interface &lt;em&gt;owned&lt;/em&gt; by the Adapter component (&lt;em&gt;within Adapter's rectangle, and within the same compile-time and/or deploy-time context&lt;/em&gt;) and is implemented by an internal component of &lt;strong&gt;Adapter&lt;/strong&gt; (&lt;em&gt;Implementation&lt;/em&gt;).  What is being adapted, the &lt;strong&gt;Service&lt;/strong&gt;, is then accessed by &lt;strong&gt;Adapter&lt;/strong&gt; in &lt;em&gt;some way&lt;/em&gt;.  The connections and containment of &lt;strong&gt;Service&lt;/strong&gt; are intentionally vague (&amp;quot;some way&amp;quot;): it could be accessed as an internal component via compile-time linkage, via a HTTP request, etc.  The important part of the pattern is that the &lt;strong&gt;Adapter&lt;/strong&gt; is providing an single interface to &lt;strong&gt;Client&lt;/strong&gt; that wraps &lt;em&gt;implementation details&lt;/em&gt; being &lt;em&gt;adapted&lt;/em&gt; to another interface.  &lt;strong&gt;Adapter&lt;/strong&gt; is not loosely coupled from the thing it's adapting--&lt;strong&gt;Service&lt;/strong&gt; (adapter's intention &lt;em&gt;is&lt;/em&gt; to use an implementation directly, rather than an abstraction (i.e. one abstraction instead of two).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bridge&lt;/strong&gt; is similar to &lt;strong&gt;Adapter&lt;/strong&gt;, but instead of being tightly-coupled to the &lt;strong&gt;Service&lt;/strong&gt;, it controls that interaction through an interface (or other abstraction).  One view of the Bridge Pattern is to simply access an interface instead of the &lt;strong&gt;Service&lt;/strong&gt; directly.  And that technically gives us a Bridge implementation by adding an interface to an Adapter; but the Bridge is still overly coupled to the evolution of &lt;strong&gt;Service&lt;/strong&gt;.  A more loosely-coupled Bridge accesses &lt;strong&gt;Service&lt;/strong&gt; via an interface (or other abstraction) but &lt;em&gt;owns&lt;/em&gt; that interface (shares a compile-time context or deploy-time context).  That gives us loosely-coupled benefits temporally: an implementor or that interface can be developed independently, or new implementors can be added later.&lt;/p&gt;
&lt;p&gt;When would something like that be needed?  Well &lt;strong&gt;driver&lt;/strong&gt; is often a term associated with Bridge, but I think &lt;strong&gt;provider&lt;/strong&gt; is a much better context (a &amp;quot;driver&amp;quot; is really a type of provider) so I'm going to focus on &lt;em&gt;provider&lt;/em&gt;.  This lets a Bridge facilitate a &lt;em&gt;late-binding&lt;/em&gt; (or at run-time) of a service that provides some functionality (i.e. &lt;em&gt;provider&lt;/em&gt;).  Hopefully diagramming it will make it more clear:&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/Bridge%20Pattern.png" class="img-fluid" alt="Bridge Pattern Diagram" /&gt;&lt;/p&gt;
&lt;p&gt;Notice that the service (&lt;strong&gt;Provider&lt;/strong&gt;) now implements an interface &lt;em&gt;owned&lt;/em&gt; by the &lt;strong&gt;Bridge&lt;/strong&gt; (within the Bridge component in the diagram).  Now, anything that implements that interface can be utilized by &lt;strong&gt;Bridge&lt;/strong&gt;.  Depending on your language/framework, that can be late-bound at runtime.  (&lt;em&gt;Dependency Injection&lt;/em&gt; is your friend here).  To annotate the end-to-end relationship in prose:&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/Bridge%20Pattern%20Prose.png" class="img-fluid" alt="Bridge Pattern Annotated Diagram" /&gt;&lt;/p&gt;
&lt;h2 id="service-orientation"&gt;Service Orientation&lt;/h2&gt;
&lt;p&gt;This is an effective means of achieving &lt;a href="https://en.wikipedia.org/wiki/Service-orientation"&gt;Service Orientation&lt;/a&gt;.  Related to but different than &lt;em&gt;Service-Oriented Architecture&lt;/em&gt; (SOA), Service Orientation aligns with most SOA principles: Loose Coupling, Abstraction, Encapsulation, Statelessness, Autonomy, Discoverability, Reusability, and Composability.  This is accomplished through principles like explicit boundaries, separation of functional context and state by contract.  This is re-enforced by its capability to support a provider model.  Bridge makes it possible to provide and consume a &lt;em&gt;service&lt;/em&gt; (based on principles of Service-Orientation).&lt;/p&gt;
&lt;h2 id="speaking-of-composition"&gt;Speaking Of Composition&lt;/h2&gt;
&lt;p&gt;Since there is some level of adaption in a Bridge implementation, it may very well utilize the Adapter pattern, which may be diagrammed like this.&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/Bridge%20Pattern%20Detail.png" class="img-fluid" alt="Bridge Pattern with Adapter" /&gt;&lt;/p&gt;
&lt;p&gt;Where the implementation of the service remains autonomous but made reusable and composable, through encapsulation and abstraction within an Adapter implementation.&lt;/p&gt;
&lt;h2 id="being-successful"&gt;Being Successful&lt;/h2&gt;
&lt;p&gt;Keeping a Service-Orientation mindset over a Object-Oriented mindset is key to successfully recognizing where Bridge is most suitable making it more likely to succeed.  Remember also that the degree of independence of the &lt;em&gt;bridgees&lt;/em&gt; keeps an implementation being successful and not just needless structure.  e.g. if a client is required to be compile-time bound to any implementation of a provider interface, the two truly cannot evolve independently.&lt;/p&gt;
&lt;h2 id="references"&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://a.co/9ld8Er3"&gt;Design Patterns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Bridge_pattern"&gt;Bridge Pattern&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Adaptere_pattern"&gt;Adapter Pattern&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Service-orientation"&gt;Service Orientation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
		<summary>&lt;p&gt;One of the biggest roadblocks in creating software that stands the test of time is the trouble many people have separating concept from actuality.  To some degree this is a basic human trait.  Shopping for a new house for example, it's common for someone not to buy a house simply because of the colors of the walls despite the triviality of re-painting (or the fact you probably will regardless).  In software, it's common for the separation between abstractions and implementation details to end up bleeding across.  So, it's no surprise that some patterns (or patterns in general?) are hard to truly understand and commonly mis-implemented.  The &lt;a href="https://en.wikipedia.org/wiki/Bridge_pattern"&gt;Bridge Pattern&lt;/a&gt; is one of the prime examples, from my experience.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<id>http://blog.peterritchie.com/posts/Innovation</id>
		<title>Innovation</title>
		<link href="http://blog.peterritchie.com/posts/Innovation" />
		<updated>2018-07-02T00:00:00Z</updated>
		<content>&lt;h2 id="what-is-innovative"&gt;What is innovative?&lt;/h2&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;For our purposes, let’s define it as a “big new” for your business or a “big different” in how you operate your business.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;― &lt;a href="https://web.archive.org/web/20170105015034/http:/www.forbes.com:80/sites/darden/2014/08/04/why-is-innovation-so-hard/#4fd5e64046fd"&gt;https://web.archive.org/web/20170105015034/http://www.forbes.com:80/sites/darden/2014/08/04/why-is-innovation-so-hard/#4fd5e64046fd&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="what-is-innovation-and-innovating"&gt;What is innovation and innovating&lt;/h2&gt;
&lt;p&gt;Innovation is&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;The act of innovating&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;― &lt;a href="https://web.archive.org/web/20170215125906/https:/en.wiktionary.org/wiki/innovation"&gt;https://web.archive.org/web/20170215125906/https://en.wiktionary.org/wiki/innovation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Innovating is, of course, being innovative or:&lt;/p&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;To begin or introduce (something new) for the first time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;―&lt;a href="https://www.thefreedictionary.com/innovating"&gt;https://www.thefreedictionary.com/innovating&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;All fine and satisfies pedantry, but what does innovation really mean? If it's truly &lt;em&gt;something new&lt;/em&gt; or the &lt;em&gt;first time&lt;/em&gt; then that means it occured through &lt;em&gt;ideation&lt;/em&gt;, &lt;em&gt;exploration&lt;/em&gt;, and &lt;em&gt;experimentation&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I think ideation and exploration must go hand in hand. Ideation is the creation, development, and communication of new ideas. New ideas (ones you don't already have) come from observation. That act of observation (again, if you already have an idea, the observation is complete) is done through exploration. You explore things; explore clients doing things with your system, exploration through conversation with clients, exploring different ways of thinking and different ways of doing things. It's that observation that leads to ideas, either as Aha! moments observing day-to-day life or observing planned exploration.&lt;/p&gt;
&lt;p&gt;Ideas are theories, they are generally something that someone thinks can work but does not yet have the evidence. Something needs to be done to prove or disprove the idea. If the idea is proved then innovation might have occurred. If the idea is disproved then you don't move forward with it. With theories, success is when it is no longer a theory. That process is called experimentation. There really is no &amp;quot;failure&amp;quot;, something is always learned from the experiment. But the business practice of &amp;quot;fail fast&amp;quot; is basically that: perform experimentations and know what isn't going to work as quickly as possible.&lt;/p&gt;
&lt;h2 id="how-do-you-stifle-or-prevent-innovation"&gt;How do you stifle or prevent innovation&lt;/h2&gt;
&lt;p&gt;Another way of thinking about actions designed to prevent failure is that they are actions that focus on ensuring success. Doing things to ensure success and avoid failure is avoiding experimentation and thus exploration. Avoiding failure means controlling as many of the variables as possible to be able to guarantee an outcome, not introduce variables to promote random outcomes.&lt;/p&gt;
&lt;p&gt;You'll never be able to come up with many new ideas without exploration, and you'll never be able to prove out new ideas without experimentation (not knowing if you're going succeed or not). And this exploration and experimentation cannot be scheduled (you cannot sit down and say you're going to spend 2 weeks exploring and experimenting in the field of faster than light travel and schedule to start work on delivering it 3 Mondays from now).&lt;/p&gt;
&lt;p&gt;The actions and mindset behind exploration and experimentation are in contrast with delivering value. You can stifle and even prevent innovation by expecting innovation efforts to be done within the same process as delivering value.&lt;/p&gt;
&lt;h2 id="how-do-you-promote-innovation"&gt;How do you promote innovation&lt;/h2&gt;
&lt;p&gt;I started with how you stifle innovation to try to highlight that promoting innovation is mostly stopping the instincts and habits that stifle innovation.&lt;/p&gt;
&lt;h3 id="combat-confirmation-biases"&gt;Combat confirmation biases&lt;/h3&gt;
&lt;p&gt;Confirmation bias is the human tendency to be bias towards ideas and concepts that confirm what we already know. Innovation is introducing new things, not leveraging what we already know. We want to avoid confirming the things we already know and think outside the box. Actively avoiding confirming your beliefs can be hard, habitually and emotionally.&lt;/p&gt;
&lt;p&gt;Promoting critical thinking goes a long way to combating confirmation bias.&lt;/p&gt;
&lt;h3 id="promote-critical-thinking"&gt;Promote critical thinking&lt;/h3&gt;
&lt;p&gt;It may sound obvious but people get better at a skill with training. If you have a set of critical thinkers and have been innovating, that's one thing. If you want to innovate, the right training is essential to purposefully achieving that. Innovation requires good critical thinking skills—not taking things at face value but objectively analyzing and evaluating to form a judgement. A systematic approach to understanding something, focusing on delivering the understanding and not viewing un-forecasted understanding as &amp;quot;failures&amp;quot;.&lt;/p&gt;
&lt;h3 id="segregate-it"&gt;Segregate it&lt;/h3&gt;
&lt;p&gt;Innovation is the hopeful, eventual delivery of new value. But companies need to be continually delivering value, and delivery value predictably. Those two efforts need to be done in isolation. Experimentation destabilizes delivery and planned delivery constrains/eliminates experimentation. So, the two initiatives must have different vision, different goals, different practices, etc. Thinking your organization &amp;quot;innovates&amp;quot; while not segregating the innovation initiative away from the initiatives delivering value, you're inadvertently stifling innovation. The efforts towards innovation and predictable value delivery need to be separate. The vision, principles, and practices to predicable value delivery is contradictory to the vision, principles, and practices to innovating. The two need to be separate at an organizational level so the organization matches where the two fundamentally diverge.&lt;/p&gt;
&lt;p&gt;The initiative to innovate needs to be fed into value delivery, at the right time. Teams that innovate are not usually the best teams to deliver functionality, they're different skillsets and leveraging one in the place of the other isn't efficient and reduces ROI. You actually want less critical thinking when delivering value, not more. Perfection is the enemy of executing and critical thinking often focuses on ways of moving towards perfection.&lt;/p&gt;
&lt;h3 id="measure-it"&gt;Measure it!&lt;/h3&gt;
&lt;p&gt;Anything worth doing is worth knowing it's being done right. Measuring innovation efforts is vital to success. Leveraging an innovation capability is a form of critical thinking: don't let your confirmation biases let you think you're innovating well. Treat the whole processes as experimentation: systematically observe what's going on and make judgments on those observations. Use experimentation to improve the innovation process. The areas that can benefit from innovation probably also need measurement: look to trends, market analysis, etc. to provide the metrics to help prioritize where to innovate.&lt;/p&gt;
&lt;p&gt;Other measures might include: tracking innovation through to delivery, resources spent on innovation, resources gained from innovation, what are or have been innovations, leadership metrics focusing on innovation, rate of innovation, areas of innovation, culture (get feedback from those in the trenches to find out how well the effort is viewed and ways of innovating your innovation).&lt;/p&gt;
&lt;h1 id="references"&gt;References&lt;/h1&gt;
&lt;p&gt;Galbraith, Jay. (February 2012). Designing the Innovating Organization. Retrieved from &lt;a href="http://web.archive.org/web/20170812123800/http://www.jaygalbraith.com/component/rsfiles/download-file/files?path=whitepapers%2Fdesigninginnovatingorg.pdf"&gt;http://web.archive.org/web/20170812123800/http://www.jaygalbraith.com/component/rsfiles/download-file/files?path=3Dwhitepapers%2Fdesigninginnovatingorg.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hess, Edward D. (August 2014). Why Is Innovation So Hard? Retrieved from &lt;a href="https://web.archive.org/web/20170105015034/http:/www.forbes.com:80/sites/darden/2014/08/04/why-is-innovation-so-hard/#4fd5e64046fd"&gt;https://web.archive.org/web/20170105015034/http://www.forbes.com:80/sites/darden/2014/08/04/why-is-innovation-so-hard/#4fd5e64046fd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hamel, Gary and Tennant, Nancy. (April 2015). The 5 Requirements of a Truly Innovative Company. Retrieved from &lt;a href="https://web.archive.org/web/20180126024656/https:/hbr.org/2015/04/the-5-requirements-of-a-truly-innovative-company"&gt;https://web.archive.org/web/20180126024656/https://hbr.org/2015/04/the-5-requirements-of-a-truly-innovative-company&lt;/a&gt;&lt;!-- 2018, July--&gt;&lt;/p&gt;
</content>
		<summary>&lt;p&gt;For our purposes, let’s define it as a “big new” for your business or a “big different” in how you operate your business.&lt;/p&gt;</summary>
	</entry>
</feed>